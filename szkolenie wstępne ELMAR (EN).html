<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>ELMAR - COMPLETE Induction Training</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #0066FF;
            --secondary-blue: #004CE8;
            --accent-cyan: #00FFFF;
            --accent-yellow: #FFD700;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-cyber: linear-gradient(135deg, #00FFFF 0%, #0066FF 50%, #8A2BE2 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow-glow: 0 0 40px rgba(0, 255, 255, 0.3);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0a;
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            animation: backgroundShift 20s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes backgroundShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        /* Login Screen */
        .login-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        .login-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 30px;
            padding: 60px;
            text-align: center;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            max-width: 500px;
            width: 100%;
            animation: slideInUp 1s ease-out, glow 3s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        .login-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, var(--accent-cyan), transparent);
            animation: rotate 4s linear infinite;
            z-index: -1;
        }

        .login-container::after {
            content: '';
            position: absolute;
            inset: 3px;
            background: rgba(10, 10, 10, 0.9);
            border-radius: 27px;
            z-index: -1;
        }

        @keyframes slideInUp {
            from { 
                opacity: 0; 
                transform: translateY(50px) scale(0.9); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3), var(--shadow-glow); }
            50% { box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3), 0 0 60px rgba(0, 255, 255, 0.5); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .logo-large {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            position: relative;
        }

        .logo-fish {
            font-size: 5rem;
            margin-right: 20px;
            animation: swim 4s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(--accent-cyan));
        }

        .logo-text {
            font-size: 4rem;
            font-weight: 800;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Space Grotesk', sans-serif;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            animation: textPulse 2s ease-in-out infinite;
        }

        @keyframes swim {
            0%, 100% { transform: translateX(0px) rotate(0deg) scale(1); }
            25% { transform: translateX(10px) rotate(2deg) scale(1.05); }
            75% { transform: translateX(-5px) rotate(-1deg) scale(0.95); }
        }

        @keyframes textPulse {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.2); }
        }

        .subtitle {
            font-size: 1.4rem;
            opacity: 0.9;
            margin-bottom: 50px;
            font-weight: 300;
            background: linear-gradient(45deg, #fff, var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .form-group {
            margin-bottom: 30px;
            text-align: left;
            position: relative;
        }

        .form-label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--accent-cyan);
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-input {
            width: 100%;
            padding: 20px 25px;
            border: none;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1.1rem;
            border: 2px solid transparent;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-cyan);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }

        .login-btn {
            width: 100%;
            padding: 22px 40px;
            border: none;
            border-radius: 25px;
            background: var(--gradient-cyber);
            color: white;
            font-size: 1.4rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            margin-top: 30px;
            font-family: 'Space Grotesk', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        .login-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .login-btn:hover::before {
            left: 100%;
        }

        .login-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 50px rgba(0, 255, 255, 0.5);
        }

        /* Training Container */
        .training-container {
            display: none;
            min-height: 100vh;
            position: relative;
        }

        .slide {
            display: none;
            min-height: 100vh;
            padding: 120px 40px 120px 40px;
            text-align: center;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .slide.active {
            display: flex;
        }

        h1 {
            font-size: 4rem;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 800;
            animation: titleGlow 2s ease-in-out infinite;
            line-height: 1.2;
        }

        @keyframes titleGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }

        h2 {
            font-size: 3rem;
            margin-bottom: 40px;
            background: linear-gradient(45deg, #fff, var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            line-height: 1.3;
        }

        .big-text {
            font-size: 2rem;
            margin: 30px 0;
            font-weight: 600;
            line-height: 1.6;
        }

        .highlight {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 35px 60px;
            border-radius: 25px;
            font-size: 1.8rem;
            font-weight: 700;
            margin: 40px auto;
            border: 1px solid var(--glass-border);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            animation: highlightPulse 3s ease-in-out infinite;
            max-width: 90%;
        }

        @keyframes highlightPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .temperature-danger {
            background: linear-gradient(135deg, #FF3366, #FF6B6B);
            padding: 50px;
            border-radius: 30px;
            margin: 40px auto;
            font-size: 2rem;
            font-weight: 800;
            box-shadow: 0 30px 70px rgba(255, 51, 102, 0.4);
            animation: dangerPulse 2s ease-in-out infinite;
            max-width: 90%;
        }

        @keyframes dangerPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 20px 50px rgba(255, 51, 102, 0.3); }
            50% { transform: scale(1.02); box-shadow: 0 25px 60px rgba(255, 51, 102, 0.5); }
        }

        .icon {
            font-size: 5rem;
            margin: 30px 0;
            filter: drop-shadow(0 0 30px var(--accent-cyan));
            animation: iconFloat 4s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin: 50px auto;
            max-width: 1400px;
            width: 100%;
        }

        .step {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .step::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-accent);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .step:hover::before {
            opacity: 0.1;
        }

        .step:hover {
            transform: translateY(-15px) scale(1.03);
            box-shadow: 
                0 25px 60px rgba(0, 0, 0, 0.3),
                0 0 50px rgba(0, 255, 255, 0.2);
        }

        .step-number {
            background: var(--gradient-cyber);
            color: white;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: 800;
            margin: 0 auto 25px;
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
            animation: numberPulse 2s ease-in-out infinite;
        }

        @keyframes numberPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .navigation {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            background: var(--gradient-cyber);
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
            font-family: 'Space Grotesk', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .nav-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.5);
        }

        .slide-counter {
            position: fixed;
            top: 30px;
            right: 30px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.3rem;
            font-weight: 600;
            border: 1px solid var(--glass-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 999;
        }

        .warning-box, .success-box {
            padding: 35px;
            border-radius: 25px;
            margin: 30px auto;
            font-weight: 700;
            font-size: 1.6rem;
            position: relative;
            overflow: hidden;
            animation: boxGlow 3s ease-in-out infinite;
            max-width: 90%;
        }

        .warning-box {
            background: linear-gradient(135deg, #FF3366, #FF6B6B);
            box-shadow: 0 20px 50px rgba(255, 51, 102, 0.3);
        }

        .success-box {
            background: linear-gradient(135deg, #00FF88, #00CC66);
            box-shadow: 0 20px 50px rgba(0, 255, 136, 0.3);
        }

        @keyframes boxGlow {
            0%, 100% { box-shadow: 0 20px 50px rgba(255, 51, 102, 0.3); }
            50% { box-shadow: 0 25px 60px rgba(255, 51, 102, 0.5); }
        }

        .logo {
            position: fixed;
            top: 30px;
            left: 30px;
            display: flex;
            align-items: center;
            z-index: 1000;
        }

        .logo-small {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Space Grotesk', sans-serif;
        }

        .logo-fish-small {
            font-size: 2.5rem;
            margin-right: 15px;
            animation: swim 3s ease-in-out infinite;
        }

        .user-info {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 500;
            border: 1px solid var(--glass-border);
            z-index: 999;
        }

        .law-info {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border-left: 5px solid var(--accent-cyan);
            padding: 30px;
            margin: 30px auto;
            border-radius: 15px;
            font-size: 1.2rem;
            text-align: left;
            border: 1px solid var(--glass-border);
            position: relative;
            max-width: 90%;
        }

        .law-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), transparent);
            pointer-events: none;
        }

        /* Quiz Styles */
        .quiz-question {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            transition: all 0.3s ease;
            width: 100%;
            max-width: 900px;
        }

        .quiz-question:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.2);
        }

        .question-header {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 25px;
        }

        .question-number {
            background: var(--gradient-cyber);
            color: white;
            min-width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 800;
            flex-shrink: 0;
            box-shadow: 0 8px 20px rgba(0, 255, 255, 0.3);
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 600;
            line-height: 1.6;
            color: white;
            padding-top: 10px;
            text-align: left;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-left: 70px;
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 15px;
            padding: 18px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--accent-cyan);
            transform: translateX(10px);
        }

        .quiz-option input[type="radio"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: var(--accent-cyan);
            flex-shrink: 0;
        }

        .option-label {
            font-size: 1.2rem;
            font-weight: 500;
            color: white;
            line-height: 1.5;
            text-align: left;
        }

        .quiz-option input[type="radio"]:checked + .option-label {
            color: var(--accent-cyan);
            font-weight: 700;
        }

        #quizResult {
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: 600;
            animation: slideInUp 0.5s ease-out;
            margin: 30px auto;
            max-width: 900px;
        }

        #quizResult.success {
            background: linear-gradient(135deg, #00FF88, #00CC66);
            color: white;
            box-shadow: 0 20px 50px rgba(0, 255, 136, 0.3);
        }

        #quizResult.error {
            background: linear-gradient(135deg, #FF3366, #FF6B6B);
            color: white;
            box-shadow: 0 20px 50px rgba(255, 51, 102, 0.3);
        }

        .slide-link-btn {
            background: transparent;
            color: var(--accent-cyan);
            border: 2px solid var(--accent-cyan);
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            font-weight: 600;
        }

        .slide-link-btn:hover {
            background: var(--accent-cyan);
            color: #0a0a0a;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
        }

        /* Completion Screen */
        .completion-screen {
            display: none;
            min-height: 100vh;
            padding: 60px 20px;
            text-align: center;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .completion-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border-radius: 30px;
            padding: 70px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.3),
                0 0 80px rgba(0, 255, 255, 0.2);
            max-width: 700px;
            width: 100%;
            animation: slideInUp 1s ease-out;
            position: relative;
            overflow: hidden;
        }

        .completion-icon {
            font-size: 8rem;
            margin-bottom: 40px;
            filter: drop-shadow(0 0 50px var(--accent-cyan));
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0) scale(1); }
            40% { transform: translateY(-30px) scale(1.1); }
            60% { transform: translateY(-15px) scale(1.05); }
        }

        .completion-title {
            font-size: 3rem;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 800;
            animation: titleGlow 2s ease-in-out infinite;
        }

        .completion-message {
            font-size: 1.6rem;
            margin-bottom: 50px;
            line-height: 1.8;
            font-weight: 400;
        }

        .certificate-btn {
            background: var(--gradient-cyber);
            color: white;
            border: none;
            padding: 25px 50px;
            border-radius: 25px;
            font-size: 1.4rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            margin: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Space Grotesk', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .certificate-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .certificate-btn:hover::before {
            left: 100%;
        }

        .certificate-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 50px rgba(0, 255, 255, 0.5);
        }

        .restart-btn {
            background: transparent;
            color: var(--accent-cyan);
            border: 2px solid var(--accent-cyan);
            padding: 20px 40px;
            border-radius: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.4s ease;
            margin: 15px;
            font-weight: 600;
        }

        .restart-btn:hover {
            background: var(--accent-cyan);
            color: #0a0a0a;
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.3);
        }

        #certificateCanvas {
            display: none;
        }

        /* Responsive Design - IMPROVED */
        @media (max-width: 1024px) {
            .slide {
                padding: 100px 30px 100px 30px;
            }
            
            h1 { font-size: 3rem; }
            h2 { font-size: 2.5rem; }
            .big-text { font-size: 1.7rem; }
            
            .user-info {
                font-size: 1rem;
                padding: 12px 20px;
            }
        }

        @media (max-width: 768px) {
            .login-container, .completion-container {
                padding: 40px 25px;
                margin: 15px;
            }
            
            .slide {
                padding: 100px 20px 100px 20px;
            }
            
            h1 { 
                font-size: 2.5rem;
                line-height: 1.3;
            }
            
            h2 { 
                font-size: 2rem;
                line-height: 1.4;
            }
            
            .big-text { 
                font-size: 1.4rem;
                line-height: 1.7;
            }
            
            .steps { 
                grid-template-columns: 1fr; 
                gap: 25px;
                padding: 0 10px;
            }
            
            .navigation {
                bottom: 20px;
                right: 20px;
                gap: 10px;
            }
            
            .nav-btn {
                padding: 15px 25px;
                font-size: 1rem;
            }
            
            .logo {
                top: 20px;
                left: 20px;
            }
            
            .logo-small {
                font-size: 1.8rem;
            }
            
            .logo-fish-small {
                font-size: 2rem;
            }
            
            .slide-counter {
                top: 20px;
                right: 20px;
                font-size: 1.1rem;
                padding: 12px 20px;
            }
            
            .user-info {
                position: static;
                transform: none;
                margin: 0 auto 20px;
                width: calc(100% - 40px);
                max-width: 400px;
            }
            
            .icon {
                font-size: 3.5rem;
            }
            
            .completion-icon {
                font-size: 5rem;
            }
            
            .completion-title {
                font-size: 2.2rem;
            }
            
            .completion-message {
                font-size: 1.2rem;
            }
            
            .temperature-danger {
                font-size: 1.6rem;
                padding: 30px 20px;
            }
            
            .highlight {
                font-size: 1.2rem;
                padding: 25px 30px;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .option-label {
                font-size: 1.1rem;
            }
            
            .quiz-options {
                margin-left: 0;
            }
            
            .question-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .law-info {
                font-size: 1.1rem;
                padding: 25px;
            }
            
            .logo-large .logo-fish {
                font-size: 3.5rem;
                margin-right: 15px;
            }
            
            .logo-large .logo-text {
                font-size: 3rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
            }
            
            .certificate-btn {
                padding: 20px 35px;
                font-size: 1.2rem;
            }
            
            .form-label {
                font-size: 1rem;
            }
            
            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            h1 { 
                font-size: 2rem;
                margin-bottom: 20px;
            }
            
            h2 { 
                font-size: 1.7rem;
                margin-bottom: 25px;
            }
            
            .big-text { 
                font-size: 1.2rem;
            }
            
            .slide {
                padding: 90px 15px 90px 15px;
            }
            
            .step {
                padding: 30px 20px;
            }
            
            .step-number {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }
            
            .highlight {
                font-size: 1.1rem;
                padding: 20px 25px;
            }
            
            .temperature-danger {
                font-size: 1.4rem;
                padding: 25px 15px;
            }
            
            .nav-btn {
                padding: 12px 20px;
                font-size: 0.95rem;
            }
            
            .quiz-question {
                padding: 20px;
            }
            
            .question-number {
                min-width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .option-label {
                font-size: 1rem;
            }
            
            .law-info {
                font-size: 1rem;
                padding: 20px;
            }
            
            .logo-large .logo-fish {
                font-size: 2.5rem;
            }
            
            .logo-large .logo-text {
                font-size: 2.2rem;
            }
        }

        /* Print styles */
        @media print {
            .navigation,
            .logo,
            .user-info,
            .slide-counter {
                display: none !important;
            }
            
            .slide {
                page-break-after: always;
            }
        }
    </style>
</head>
<body>
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="logo-large">
                <div class="logo-fish">üêü</div>
                <div class="logo-text">ELMAR</div>
            </div>
            <div class="subtitle">Induction Training - Safety and Hygiene</div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label" for="firstName">First Name</label>
                    <input type="text" class="form-input" id="firstName" placeholder="Enter your first name" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="lastName">Last Name</label>
                    <input type="text" class="form-input" id="lastName" placeholder="Enter your last name" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="trainingDate">Training Date</label>
                    <input type="date" class="form-input" id="trainingDate" required>
                </div>
                
                <button type="submit" class="login-btn">Start Training</button>
            </form>
        </div>
    </div>

    <div class="training-container" id="trainingContainer">
        <div class="logo">
            <div class="logo-fish-small">üêü</div>
            <div class="logo-small">ELMAR</div>
        </div>
        <div class="user-info" id="userInfo"></div>
        <div class="slide-counter">
            <span id="current-slide">1</span> / <span id="total-slides">20</span>
        </div>

        <div class="slide active">
            <div class="icon fish-icon">üêü</div>
            <h1>FOOD SAFETY</h1>
            <div class="big-text">Induction Training for New Employees</div>
            <div class="highlight cyber-border">
                <strong>ELMAR Fish Processing - Complete Program</strong>
            </div>
            <p style="font-size: 1.4rem; margin-top: 50px; opacity: 0.9; font-weight: 300;">
                Your health and the health of consumers are in your hands
            </p>
        </div>

        <div class="slide">
            <div class="icon">‚öñÔ∏è</div>
            <h2>LEGAL BASIS FOR TRAINING</h2>
            <div class="law-info">
                <strong>Regulation (EC) No 852/2004 - Chapter XII "TRAINING":</strong><br><br>
                Food business operators are to ensure:<br>
                ‚Ä¢ Food handling staff are <strong>supervised and/or trained</strong> in food hygiene matters<br>
                ‚Ä¢ Those responsible for HACCP <strong>have received adequate training</strong><br>
                ‚Ä¢ <strong>Compliance with requirements</strong> of national training programs
            </div>
            <div class="highlight cyber-border">
                This training is <strong>MANDATORY</strong> under EU law
            </div>
        </div>

        <div class="slide">
            <div class="icon">‚ö†Ô∏è</div>
            <h2>WHY IS THIS SO IMPORTANT?</h2>
            <div class="warning-box">
                One bacterium can multiply to 16 million in 8 hours!
            </div>
            <div class="big-text">
                Fish is a <strong style="color: var(--accent-cyan);">HIGHLY PERISHABLE</strong> product
            </div>
            <div class="highlight cyber-border">
                Your work protects the health of thousands of people every day
            </div>
            <div class="law-info">
                <strong>On dirty hands:</strong> 10 million bacteria/cm¬≤<br>
                <strong>After washing:</strong> 100,000 bacteria/cm¬≤<br>
                <strong>After disinfection:</strong> 10 bacteria/cm¬≤
            </div>
        </div>

        <div class="slide">
            <div class="icon">üî¨</div>
            <h2>WHAT IS HACCP?</h2>
            <div class="big-text">
                <strong style="color: var(--accent-cyan);">HACCP</strong> = Hazard Analysis and Critical Control Points
            </div>
            <div class="highlight cyber-border">
                Hazard Analysis and Critical Control Points System
            </div>
            <div class="big-text" style="font-size: 1.6rem; margin: 40px auto; max-width: 900px;">
                It is a system that <strong>identifies, assesses, and controls</strong> food safety hazards
            </div>
            <div class="success-box">
                REMEMBER: "WHAT ISN'T DOCUMENTED, ISN'T DONE"
            </div>
        </div>

        <div class="slide">
            <div class="icon">‚ò£Ô∏è</div>
            <h2>TYPES OF HAZARDS</h2>
            <div class="steps">
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 51, 102, 0.2), rgba(255, 107, 107, 0.2)); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">ü¶†</div>
                    <strong style="font-size: 1.4rem;">BIOLOGICAL</strong><br><br>
                    Bacteria (Salmonella, Listeria)<br>
                    Parasites (Anisakis)<br>
                    Histamine
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2)); border-color: #FFD700;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FFD700, #FFA500);">‚öóÔ∏è</div>
                    <strong style="font-size: 1.4rem;">CHEMICAL</strong><br><br>
                    Cleaning agents<br>
                    Heavy metals<br>
                    Natural toxins
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(138, 43, 226, 0.2), rgba(102, 126, 234, 0.2)); border-color: #8A2BE2;">
                    <div class="step-number" style="background: linear-gradient(135deg, #8A2BE2, #667eea);">üî©</div>
                    <strong style="font-size: 1.4rem;">PHYSICAL</strong><br><br>
                    Glass fragments<br>
                    Metal, bones<br>
                    Foreign bodies
                </div>
            </div>
            <div class="warning-box">
                Every employee must recognize and eliminate these hazards!
            </div>
        </div>

        <div class="slide">
            <div class="icon">üéØ</div>
            <h2>CONTROL POINTS AT ELMAR</h2>
            <div class="big-text">
                <strong style="color: #FFD700;">CP</strong> = Control Point<br>
                <strong style="color: #FF3366;">CCP</strong> = Critical Control Point
            </div>
            <div class="steps">
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2)); border-color: #FFD700;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FFD700, #FFA500); color: #0a0a0a;">CP</div>
                    <strong style="font-size: 1.3rem;">DEFROSTING</strong><br><br>
                    Final temperature<br>
                    <strong style="color: #FFD700;">MAX +4¬∞C</strong>
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2)); border-color: #FFD700;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FFD700, #FFA500); color: #0a0a0a;">CP</div>
                    <strong style="font-size: 1.3rem;">MARINATING</strong><br><br>
                    Time: 24h-72h<br>
                    Temp: <strong style="color: #FFD700;">MAX +14¬∞C</strong>
                </div>
            </div>
            <div class="steps" style="margin-top: 30px;">
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 51, 102, 0.2), rgba(255, 107, 107, 0.2)); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">CCP</div>
                    <strong style="font-size: 1.3rem;">SMOKING</strong><br><br>
                    Temperature<br>
                    <strong style="color: #FF3366;">MIN 72¬∞C in core</strong>
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 51, 102, 0.2), rgba(255, 107, 107, 0.2)); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">CCP</div>
                    <strong style="font-size: 1.3rem;">FRYING</strong><br><br>
                    Oil temperature<br>
                    <strong style="color: #FF3366;">MIN 180¬∞C</strong>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="icon">üå°Ô∏è</div>
            <h2>THE GOLDEN RULE OF TEMPERATURE</h2>
            <div class="temperature-danger">
                <div style="font-size: 4rem; margin-bottom: 25px; font-weight: 800;">4¬∞C</div>
                <div style="font-size: 1.8rem;">CHILLING TEMPERATURE</div>
                <div style="margin-top: 25px; font-size: 1.6rem;">Higher = DANGER!</div>
            </div>
            <div class="big-text">
                Remember: <span style="color: var(--accent-cyan);">Cold = Safe</span>
            </div>
            <div class="law-info">
                <strong>Legal requirement:</strong> Reg. (EC) 853/2004 - fishery products must be stored at a temperature approaching that of melting ice (0¬∞C to 4¬∞C)
            </div>
        </div>

        <div class="slide">
            <div class="icon">üè•</div>
            <h2>HEALTH REQUIREMENTS</h2>
            <div class="warning-box">
                YOU CANNOT WORK IF YOU ARE SICK!
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">üìã</div>
                    <strong>MEDICAL CLEARANCE</strong><br>Mandatory before starting work
                </div>
                <div class="step">
                    <div class="step-number">ü§í</div>
                    <strong>SYMPTOMS OF ILLNESS</strong><br>Fever, diarrhoea, vomiting, sore throat, runny nose
                </div>
                <div class="step">
                    <div class="step-number">ü©π</div>
                    <strong>WOUNDS AND CUTS</strong><br>Must be covered with a dressing
                </div>
            </div>
            <div class="law-info">
                <strong>Legal basis:</strong> Act of 25.08.2006, Art. 59 - obligation to have a medical certificate for sanitary-epidemiological purposes<br><br>
                <strong>Fact:</strong> 40% of adults are carriers of Staphylococcus aureus!
            </div>
        </div>

        <div class="slide">
            <div class="icon">üëè</div>
            <h2>CLEAN HANDS = SAFE FOOD</h2>
            <div class="big-text" style="font-size: 1.7rem; margin-bottom: 30px;">
                <strong style="color: #FF3366;">Dirty hands: 10,000,000 bacteria/cm¬≤</strong><br>
                <strong style="color: #FFD700;">After washing: 100,000 bacteria/cm¬≤</strong><br>
                <strong style="color: #00FF88;">After disinfection: 10 bacteria/cm¬≤</strong>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>ALWAYS</strong><br>before work
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>ALWAYS</strong><br>after a break
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>ALWAYS</strong><br>after touching anything dirty
                </div>
            </div>
            <div class="highlight cyber-border">
                Minimum 20 seconds of washing + disinfectant
            </div>
            <div class="warning-box">
                GLOVES DO NOT REPLACE HAND WASHING!
            </div>
        </div>

        <div class="slide">
            <div class="icon">üëï</div>
            <h2>PROTECTIVE CLOTHING</h2>
            <div class="big-text">Your <span style="color: var(--accent-cyan);">ARMOR</span> against contamination</div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">‚úì</div>
                    <strong>HAT/HAIRNET</strong><br>covers hair completely
                </div>
                <div class="step">
                    <div class="step-number">‚úì</div>
                    <strong>COAT/APRON</strong><br>clean work clothes
                </div>
                <div class="step">
                    <div class="step-number">‚úì</div>
                    <strong>GLOVES</strong><br>when required, changed frequently
                </div>
            </div>
            <div class="warning-box">
                Dirty clothing = Transferring bacteria to food!
            </div>
            <div class="law-info">
                <strong>Important:</strong> On dry clothing, bacteria live for 4h, on wet - 24h!<br>
                After manual washing - change work clothes!
            </div>
        </div>

        <div class="slide">
            <div class="icon">üö´</div>
            <h2>NEVER DO THIS!</h2>
            <div class="steps">
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>DO NOT</strong> eat during work
                </div>
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>DO NOT</strong> touch your face
                </div>
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>DO NOT</strong> work when sick
                </div>
            </div>
            <div class="steps">
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>DO NOT</strong> wear jewelry, watches
                </div>
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>DO NOT</strong> use your phone
                </div>
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>DO NOT</strong> smoke cigarettes
                </div>
            </div>
            <div class="warning-box">
                These mistakes can contaminate the entire production!
            </div>
        </div>

        <div class="slide">
            <div class="icon">üè≠</div>
            <h2>ELMAR PLANT - OUR PROCESSES</h2>
            <div class="big-text">
                We produce <strong style="color: var(--accent-cyan);">60 tons</strong> of products per week
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>SALTED PRODUCTS</strong><br>20 tons/week
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>MARINATED PRODUCTS</strong><br>18 tons/week
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>SMOKED PRODUCTS</strong><br>18 tons/week
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <strong>OTHER PRODUCTS</strong><br>4 tons/week
                </div>
            </div>
            <div class="highlight cyber-border">
                Main raw materials: mackerel, herring, salmon, cod
            </div>
        </div>

        <div class="slide">
            <div class="icon">‚ùÑÔ∏è</div>
            <h2>DEFROSTING PROCEDURE</h2>
            <div class="big-text" style="font-size: 1.6rem; color: #FFD700;">
                CP - Control Point: Temperature MAX +4¬∞C
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>RECEIPT</strong><br>Frozen raw material -18¬∞C to -20¬∞C
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>TRANSPORT</strong><br>To the defrosting room
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>DEFROSTING</strong><br>6-12 hours to temp. max +4¬∞C
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <strong>CONTROL</strong><br>Measurement with calibrated thermometer
                </div>
                <div class="step">
                    <div class="step-number">5</div>
                    <strong>RECORD</strong><br>Record in control chart
                </div>
                <div class="step">
                    <div class="step-number">6</div>
                    <strong>TO PRODUCTION</strong><br>Immediately after defrosting
                </div>
            </div>
            <div class="warning-box">
                Temperature >+6¬∞C = Stop and notify the Quality Controller!
            </div>
        </div>

        <div class="slide">
            <div class="icon">üî•</div>
            <h2>SMOKING AND THERMAL PROCESSING</h2>
            <div class="temperature-danger">
                <div style="font-size: 4rem; margin-bottom: 25px; font-weight: 800;">72¬∞C</div>
                <div style="font-size: 1.8rem;">CCP - MINIMUM TEMPERATURE</div>
                <div style="margin-top: 25px; font-size: 1.6rem;">IN THE PRODUCT'S CORE!</div>
            </div>
            <div class="big-text">
                Applies to: <strong style="color: var(--accent-cyan);">Smoking ‚Ä¢ Baking ‚Ä¢ Frying</strong>
            </div>
            <div class="highlight cyber-border">
                This temperature kills pathogenic bacteria!
            </div>
            <div class="law-info">
                <strong>CCP Control:</strong><br>
                ‚Ä¢ Measure temperature with a probe thermometer<br>
                ‚Ä¢ Record in the CCP control chart<br>
                ‚Ä¢ Check every production batch
            </div>
        </div>

        <div class="slide">
            <div class="icon">üßΩ</div>
            <h2>CLEANING AND DISINFECTION - 3 STEPS</h2>
            <div class="steps">
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 102, 255, 0.2)); border-color: #00FFFF;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FFFF, #0066FF); color: #0a0a0a;">1</div>
                    <strong style="font-size: 1.5rem;">CLEANING</strong><br><br>
                    Remove visible debris<br>
                    With plastic brushes<br>
                    Rinse with water
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 102, 255, 0.2)); border-color: #00FFFF;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FFFF, #0066FF); color: #0a0a0a;">2</div>
                    <strong style="font-size: 1.5rem;">WASHING</strong><br><br>
                    With detergent per instructions<br>
                    Correct temperature and time<br>
                    Rinse thoroughly
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 102, 255, 0.2)); border-color: #00FFFF;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FFFF, #0066FF); color: #0a0a0a;">3</div>
                    <strong style="font-size: 1.5rem;">DISINFECTION</strong><br><br>
                    With disinfectant<br>
                    Specified contact time<br>
                    Leave to dry
                </div>
            </div>
            <div class="success-box">
                Only these 3 steps ensure full safety!
            </div>
        </div>

        <div class="slide">
            <div class="icon">‚ôªÔ∏è</div>
            <h2>ABP - ANIMAL BY-PRODUCTS</h2>
            <div class="big-text">
                <strong style="color: var(--accent-cyan);">ABP</strong> = Animal By-Products
            </div>
            <div class="highlight cyber-border">
                At ELMAR: Mainly CATEGORY 3 waste
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>SEGREGATION</strong><br>At the workstation
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>CONTAINERS</strong><br>Labeled "ABP CAT-3"
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>TRANSPORT</strong><br>To ABP storage (north exit)
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <strong>COLLECTION</strong><br>STABO plant in ≈Åapy
                </div>
            </div>
            <div class="law-info">
                <strong>Requirement:</strong> Documentation of all ABP operations<br>
                <strong>Storage:</strong> Chilled conditions
            </div>
        </div>

        <div class="slide">
            <div class="icon">‚ú®</div>
            <h2>CLEAN WORKSTATION</h2>
            <div class="big-text">
                <span style="color: var(--accent-cyan);">YOU CLEAN</span> = <span style="color: #00FF88;">YOU PROTECT</span>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>BEFORE</strong><br>starting work
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>DURING</strong><br>if it gets dirty
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>AFTER</strong><br>finishing work
                </div>
            </div>
            <div class="success-box">
                Clean tools and surfaces = Safe product
            </div>
            <div class="law-info">
                <strong>HACCP Requirement:</strong> Use of the approved sanitation program according to the plant's procedures
            </div>
        </div>

        <div class="slide">
            <div class="icon">üìù</div>
            <h2>DOCUMENTATION - RECORDS</h2>
            <div class="warning-box">
                "WHAT ISN'T DOCUMENTED, ISN'T DONE"
            </div>
            <div class="big-text" style="font-size: 1.6rem; margin: 40px auto; max-width: 900px;">
                Every temperature measurement, every check <strong style="color: var(--accent-cyan);">MUST BE RECORDED</strong> in the control chart
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">üìä</div>
                    <strong>CONTROL CHART</strong><br>Fill out legibly and in real-time
                </div>
                <div class="step">
                    <div class="step-number">üå°Ô∏è</div>
                    <strong>MEASUREMENTS</strong><br>Date, time, value, signature
                </div>
                <div class="step">
                    <div class="step-number">‚ö†Ô∏è</div>
                    <strong>NON-CONFORMITIES</strong><br>Report to supervisor immediately
                </div>
            </div>
            <div class="highlight cyber-border">
                Records are PROOF of our correct work!
            </div>
        </div>

        <div class="slide">
            <div class="icon">üèÜ</div>
            <h2>REMEMBER FOREVER</h2>
            <div class="steps">
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 204, 102, 0.2)); border-color: #00FF88;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FF88, #00CC66); color: #0a0a0a;">üå°Ô∏è</div>
                    <strong>COLD</strong><br>4¬∞C Temperature
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 204, 102, 0.2)); border-color: #00FF88;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FF88, #00CC66); color: #0a0a0a;">üëè</div>
                    <strong>CLEAN HANDS</strong><br>Wash regularly
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 204, 102, 0.2)); border-color: #00FF88;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FF88, #00CC66); color: #0a0a0a;">üëï</div>
                    <strong>CLOTHING</strong><br>Always clean
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 204, 102, 0.2)); border-color: #00FF88;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FF88, #00CC66); color: #0a0a0a;">üìù</div>
                    <strong>RECORDS</strong><br>Document everything
                </div>
            </div>
            <div class="highlight cyber-border" style="font-size: 2rem; padding: 40px 60px;">
                <strong>YOU ARE THE GUARDIAN OF FOOD SAFETY!</strong>
            </div>
            <p style="font-size: 1.5rem; margin-top: 40px; font-weight: 400;">
                Questions? Always ask your supervisor or the HACCP Specialist!
            </p>
        </div>

        <div class="slide">
            <div class="icon">üìù</div>
            <h2>VERIFICATION TEST</h2>
            <div class="big-text" style="font-size: 1.8rem; margin-bottom: 40px;">
                Check your knowledge!<br>
                <span style="color: var(--accent-cyan); font-size: 1.4rem;">Required: 10/12 correct answers (min. 83%)</span>
            </div>
            
            <div id="quizContainer" style="max-width: 900px; margin: 0 auto; text-align: left;">
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">1</span>
                        <span class="question-text">What is the maximum storage temperature for fish at ELMAR?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="A">
                            <span class="option-label">A) 8¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="B">
                            <span class="option-label">B) 4¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="C">
                            <span class="option-label">C) 10¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="D">
                            <span class="option-label">D) 0¬∞C</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">2</span>
                        <span class="question-text">What does HACCP stand for?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="A">
                            <span class="option-label">A) Hygienic Analysis and Control Plan</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="B">
                            <span class="option-label">B) Hazard Analysis and Critical Control Points</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="C">
                            <span class="option-label">C) Health and Cleaning Control Procedure</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="D">
                            <span class="option-label">D) Hygiene and Critical Control Protocol</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">3</span>
                        <span class="question-text">How many bacteria are on dirty hands (per 1 cm¬≤)?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="A">
                            <span class="option-label">A) 1 million bacteria</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="B">
                            <span class="option-label">B) 10 million bacteria</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="C">
                            <span class="option-label">C) 100,000 bacteria</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="D">
                            <span class="option-label">D) 10,000 bacteria</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">4</span>
                        <span class="question-text">What is the minimum CCP temperature for smoking fish (in the product's core)?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="A">
                            <span class="option-label">A) 60¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="B">
                            <span class="option-label">B) 72¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="C">
                            <span class="option-label">C) 80¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="D">
                            <span class="option-label">D) 65¬∞C</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">5</span>
                        <span class="question-text">Which of the following situations ALWAYS requires hand washing and disinfection?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="A">
                            <span class="option-label">A) After a phone call</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="B">
                            <span class="option-label">B) After returning from a break, before starting work again</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="C">
                            <span class="option-label">C) After walking down a corridor</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="D">
                            <span class="option-label">D) After looking at a watch</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">6</span>
                        <span class="question-text">What should an employee do if they have a fever or diarrhoea?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="A">
                            <span class="option-label">A) Not come to work and inform their supervisor</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="B">
                            <span class="option-label">B) Come to work, but wear a mask</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="C">
                            <span class="option-label">C) Come in and avoid contact with the product</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="D">
                            <span class="option-label">D) Wait until the end of the day and assess their health</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">7</span>
                        <span class="question-text">What is the MAXIMUM final temperature of raw material after defrosting (CP)?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="A">
                            <span class="option-label">A) +2¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="B">
                            <span class="option-label">B) +4¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="C">
                            <span class="option-label">C) +6¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="D">
                            <span class="option-label">D) +8¬∞C</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">8</span>
                        <span class="question-text">How many steps does the equipment cleaning and disinfection procedure have?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q8" value="A">
                            <span class="option-label">A) 2 steps: washing and disinfection</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q8" value="B">
                            <span class="option-label">B) 3 steps: cleaning, washing, disinfection</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q8" value="C">
                            <span class="option-label">C) 4 steps: cleaning, washing, rinsing, disinfection</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q8" value="D">
                            <span class="option-label">D) 1 step: washing alone is sufficient</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">9</span>
                        <span class="question-text">What does ABP (Animal By-Products) stand for? (In Polish: UPPZ)</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q9" value="A">
                            <span class="option-label">A) Animal By-Products (Uboczne Produkty Pochodzenia Zwierzƒôcego)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q9" value="B">
                            <span class="option-label">B) Universal Plant Work Parameters</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q9" value="C">
                            <span class="option-label">C) Established Plant Production Plan</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q9" value="D">
                            <span class="option-label">D) Useful Food Producer Procedures</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">10</span>
                        <span class="question-text">Do protective gloves exempt an employee from hand washing?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q10" value="A">
                            <span class="option-label">A) Yes, gloves fully protect against bacteria</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q10" value="B">
                            <span class="option-label">B) No, hands must always be washed before putting on gloves</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q10" value="C">
                            <span class="option-label">C) Yes, but only if the gloves are new</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q10" value="D">
                            <span class="option-label">D) It depends on the type of gloves</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">11</span>
                        <span class="question-text">Which of the following is NOT a type of hazard in HACCP?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q11" value="A">
                            <span class="option-label">A) Biological hazard (bacteria, parasites)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q11" value="B">
                            <span class="option-label">B) Chemical hazard (cleaning agents)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q11" value="C">
                            <span class="option-label">C) Physical hazard (glass fragments, metal)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q11" value="D">
                            <span class="option-label">D) Economic hazard (production costs)</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">12</span>
                        <span class="question-text">What does the rule "WHAT ISN'T DOCUMENTED, ISN'T DONE" mean?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q12" value="A">
                            <span class="option-label">A) Every measurement and check must be recorded in the control chart</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q12" value="B">
                            <span class="option-label">B) An employee doesn't need to write anything down if everything is fine</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q12" value="C">
                            <span class="option-label">C) Only the shift manager makes records</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q12" value="D">
                            <span class="option-label">D) Memory is enough, records are optional</span>
                        </label>
                    </div>
                </div>

                <button class="certificate-btn" onclick="submitQuiz()" style="width: 100%; margin-top: 40px;">
                    SUBMIT ANSWERS
                </button>

                <div id="quizResult" style="display: none;"></div>
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn" onclick="previousSlide()">‚óÑ Previous</button>
            <button class="nav-btn" onclick="nextSlide()">Next ‚ñ∫</button>
        </div>
    </div>

    <div class="completion-screen" id="completionScreen">
        <div class="completion-container">
            <div class="completion-icon">üéì</div>
            <div class="completion-title">CONGRATULATIONS!</div>
            <div class="completion-message">
                You have completed the induction training on food safety at the ELMAR plant.<br><br>
                You are now part of the team that ensures the highest quality and safety of products.
            </div>
            <button class="certificate-btn" onclick="generateCertificate()">
                üìÑ DOWNLOAD CONFIRMATION
            </button>
            <button class="restart-btn" onclick="restartTraining()">
                üîÑ FINISH TRAINING
            </button>
        </div>
    </div>

    <canvas id="certificateCanvas" width="1200" height="800"></canvas>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        let userData = {};
        let quizPassed = false;

        // Set today's date as default
        document.getElementById('trainingDate').valueAsDate = new Date();

        // Correct answers for 12-question quiz
        const correctAnswers = {
            q1: 'B',  // 4¬∞C
            q2: 'B',  // Hazard Analysis and Critical Control Points
            q3: 'B',  // 10 million bacteria
            q4: 'B',  // 72¬∞C
            q5: 'B',  // After returning from a break
            q6: 'A',  // Not come to work
            q7: 'B',  // +4¬∞C
            q8: 'B',  // 3 steps
            q9: 'A',  // Animal By-Products
            q10: 'B', // No, hands must be washed
            q11: 'D', // Economic hazard (not in HACCP)
            q12: 'A'  // Every measurement must be recorded
        };

        // Slide references for quiz questions
        const slideReferences = {
            q1: 6,   // Slide 7: The Golden Rule of Temperature
            q2: 3,   // Slide 4: What is HACCP?
            q3: 8,   // Slide 9: Hand Hygiene
            q4: 13,  // Slide 14: Smoking - CCP
            q5: 8,   // Slide 9: Hand Hygiene
            q6: 7,   // Slide 8: Health Requirements
            q7: 12,  // Slide 13: Defrosting
            q8: 14,  // Slide 15: Cleaning and Disinfection
            q9: 15,  // Slide 16: ABP
            q10: 8,  // Slide 9: Hand Hygiene
            q11: 4,  // Slide 5: Hazards
            q12: 17  // Slide 18: Documentation
        };
        let trainingStartTime = null;
        let trainingEndTime = null;
        // Update total slides display
        document.getElementById('total-slides').textContent = totalSlides;

        // Login form submission
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            userData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                trainingDate: document.getElementById('trainingDate').value
            };

            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('trainingContainer').style.display = 'block';
            
            document.getElementById('userInfo').textContent = 
                `${userData.firstName} ${userData.lastName} | ${formatDate(userData.trainingDate)}`;
            
            showSlide(0);
        });

        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }

        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            
            if (index >= 0 && index < totalSlides) {
                currentSlide = index;
                slides[currentSlide].classList.add('active');
                document.getElementById('current-slide').textContent = currentSlide + 1;
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function nextSlide() {
            if (currentSlide === totalSlides - 1) {
                // Last slide (quiz) - check if quiz is passed
                if (quizPassed) {
                    showCompletionScreen();
                } else {
                    alert('You must pass the verification test before proceeding. Required: minimum 10/12 correct answers.');
                }
            } else {
                showSlide(currentSlide + 1);
            }
        }
            // Zapisz czas rozpoczƒôcia szkolenia
            trainingStartTime = new Date();
        function previousSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        function showCompletionScreen() {
            document.getElementById('trainingContainer').style.display = 'none';
            document.getElementById('completionScreen').style.display = 'flex';
        }

        function restartTraining() {
            if (confirm('Are you sure you want to end the training and return to the start screen?')) {
                location.reload();
            }
        }

        // Submit quiz
        function submitQuiz() {
            const form = document.getElementById('quizContainer');
            let correctCount = 0;
            let wrongQuestions = [];

            // Check all answers
            for (let question in correctAnswers) {
                const selected = document.querySelector(`input[name="${question}"]:checked`);
                if (selected && selected.value === correctAnswers[question]) {
                    correctCount++;
                } else {
                    wrongQuestions.push({
                        question: question,
                        slideIndex: slideReferences[question]
                    });
                }
            }

            const resultDiv = document.getElementById('quizResult');
            resultDiv.style.display = 'block';

            // Pass threshold: 10 out of 12 (83%)
            if (correctCount >= 10) {
                // PASS
                quizPassed = true;
                resultDiv.className = 'success';
                resultDiv.innerHTML = `
                    <div style="font-size: 3rem; margin-bottom: 20px;">‚úÖ</div>
                    <div style="font-size: 1.8rem; font-weight: 800; margin-bottom: 15px;">
                        CONGRATULATIONS!
                    </div>
                    <div style="font-size: 1.3rem;">
                        Test passed! Score: ${correctCount}/12 correct answers (${Math.round(correctCount/12*100)}%)!<br>
                        You can now proceed and get your training confirmation.
                    </div>
                `;
                
                // Scroll to result
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            } else {
                // FAIL
                quizPassed = false;
                const wrongQuestionsNumbers = wrongQuestions.map(wq => {
                    return parseInt(wq.question.replace('q', ''));
                }).join(', ');

                resultDiv.className = 'error';
                resultDiv.innerHTML = `
                    <div style="font-size: 3rem; margin-bottom: 20px;">‚ùå</div>
                    <div style="font-size: 1.8rem; font-weight: 800; margin-bottom: 15px;">
                        Unfortunately, test not passed
                    </div>
                    <div style="font-size: 1.3rem; margin-bottom: 25px;">
                        Score: ${correctCount}/12 correct (${Math.round(correctCount/12*100)}%)<br>
                        Required minimum: 10/12 (83%)<br>
                        Incorrect answers in questions: ${wrongQuestionsNumbers}
                    </div>
                    <div style="font-size: 1.2rem; margin-bottom: 20px;">
                        Go back to the relevant slides and review:
                    </div>
                    <div>
                        ${wrongQuestions.map(wq => `
                            <button class="slide-link-btn" onclick="goToSlideAndResetQuiz(${wq.slideIndex})">
                                Question ${wq.question.replace('q', '')} ‚Üí See slide ${wq.slideIndex + 1}
                            </button>
                        `).join('')}
                    </div>
                    <div style="margin-top: 30px; padding-top: 25px; border-top: 2px solid rgba(255,255,255,0.3);">
                        <button class="slide-link-btn" onclick="resetQuiz()" style="background: rgba(255,255,255,0.1); border-color: white;">
                            üîÑ Try Again
                        </button>
                    </div>
                `;

                // Scroll to result
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // Go to specific slide and reset quiz
        function goToSlideAndResetQuiz(slideIndex) {
            showSlide(slideIndex);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Reset quiz form
        function resetQuiz() {
            document.querySelectorAll('input[type="radio"]').forEach(input => input.checked = false);
            document.getElementById('quizResult').style.display = 'none';
            quizPassed = false;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
 fetch("sendmail.php", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        firstName: userData.firstName,
                        lastName: userData.lastName,
                        trainingDate: userData.trainingDate,
                        trainingEndTime: trainingEndTime.toISOString(),
                        score: correctCount,
                        total: Object.keys(correctAnswers).length,
                        wrong: wrongQuestionsDetails,
                        duration: duration
                    })
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Email wys≈Çany:', data);
                })
                .catch(error => {
                    console.error('B≈ÇƒÖd wysy≈Çki emaila:', error);
                });
        // Generate certificate
        function generateCertificate() {
            const canvas = document.getElementById('certificateCanvas');
            const ctx = canvas.getContext('2d');

            // Background
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#1a1a2e');
            gradient.addColorStop(0.5, '#16213e');
            gradient.addColorStop(1, '#0a0a0a');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Border
            ctx.strokeStyle = '#00FFFF';
            ctx.lineWidth = 10;
            ctx.strokeRect(30, 30, canvas.width - 60, canvas.height - 60);

            // Inner border
            ctx.strokeStyle = '#0066FF';
            ctx.lineWidth = 3;
            ctx.strokeRect(50, 50, canvas.width - 100, canvas.height - 100);

            // Logo text
            ctx.textAlign = 'center';
            const logoGradient = ctx.createLinearGradient(0, 150, canvas.width, 150);
            logoGradient.addColorStop(0, '#00FFFF');
            logoGradient.addColorStop(0.5, '#0066FF');
            logoGradient.addColorStop(1, '#8A2BE2');
            
            ctx.fillStyle = logoGradient;
            ctx.font = 'bold 72px "Space Grotesk", Arial';
            ctx.fillText('ELMAR', canvas.width/2, 150);

            // Main title
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'bold 48px Arial';
            ctx.fillText('CERTIFICATE OF TRAINING', canvas.width/2, 250);

            // Subtitle
            ctx.fillStyle = '#00FFFF';
            ctx.font = '32px Arial';
            ctx.fillText('Induction Training in Food Safety and Hygiene', canvas.width/2, 310);
            ctx.fillText('for Production Employees', canvas.width/2, 350);

            // Participant name
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'bold 40px Arial';
            const participantName = `${userData.firstName} ${userData.lastName}`;
            ctx.fillText(participantName, canvas.width/2, 450);

            // Underline for name
            const nameWidth = ctx.measureText(participantName).width;
            ctx.strokeStyle = '#00FFFF';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo((canvas.width - nameWidth)/2, 460);
            ctx.lineTo((canvas.width + nameWidth)/2, 460);
            ctx.stroke();

            // Date
            const trainingDate = new Date(userData.trainingDate);
            const months = [
                'January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'
            ];
            const dateStr = `Training Date: ${months[trainingDate.getMonth()]} ${trainingDate.getDate()}, ${trainingDate.getFullYear()}`;
            
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '24px Arial';
            ctx.fillText(dateStr, canvas.width/2, 510);

            // Completion message
            ctx.fillStyle = '#00FF88';
            ctx.font = 'bold 28px Arial';
            ctx.fillText('TRAINING SUCCESSFULLY COMPLETED', canvas.width/2, 580);

            // Company info
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.font = '15px Arial';
            ctx.fillText('P.H.U. "ELMAR" Lesiuk sp.j. - Fish Processing Plant', canvas.width/2, 670);
            ctx.fillText('developed by: mgr in≈º. Krzysztof Klebaniuk - HACCP and Quality Specialist', canvas.width/2, 700);

            // Add some decorative elements
            ctx.fillStyle = '#00FFFF';
            ctx.fillRect(150, 190, 900, 2);  // Top line - under ELMAR logo
            ctx.fillRect(150, 620, 900, 2);  // Bottom line - under completion message

            // Generate download
            const link = document.createElement('a');
            link.download = `Training_Confirmation_${userData.firstName}_${userData.lastName}_${userData.trainingDate}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }

        // Keyboard Navigation
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('trainingContainer').style.display === 'block') {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    nextSlide();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    previousSlide();
                } else if (e.key === 'Escape') {
                    e.preventDefault();
                    if (confirm('Are you sure you want to exit the training and return to the login screen?')) {
                        restartTraining();
                    }
                }
            }
        });

        // Prevent context menu and excessive zoom on mobile
        document.addEventListener('contextmenu', e => e.preventDefault());
        
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(e) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        console.log('üöÄ ELMAR Training System - COMPLETE VERSION initialized successfully!');
    </script>
</body>
</html>