<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>ELMAR - Szkolenie Wstƒôpne KOMPLETNE</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #0066FF;
            --secondary-blue: #004CE8;
            --accent-cyan: #00FFFF;
            --accent-yellow: #FFD700;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-cyber: linear-gradient(135deg, #00FFFF 0%, #0066FF 50%, #8A2BE2 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow-glow: 0 0 40px rgba(0, 255, 255, 0.3);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0a;
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            animation: backgroundShift 20s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes backgroundShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        /* Login Screen */
        .login-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        .login-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 30px;
            padding: 60px;
            text-align: center;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            max-width: 500px;
            width: 100%;
            animation: slideInUp 1s ease-out, glow 3s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        .login-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, var(--accent-cyan), transparent);
            animation: rotate 4s linear infinite;
            z-index: -1;
        }

        .login-container::after {
            content: '';
            position: absolute;
            inset: 3px;
            background: rgba(10, 10, 10, 0.9);
            border-radius: 27px;
            z-index: -1;
        }

        @keyframes slideInUp {
            from { 
                opacity: 0; 
                transform: translateY(50px) scale(0.9); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3), var(--shadow-glow); }
            50% { box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3), 0 0 60px rgba(0, 255, 255, 0.5); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .logo-large {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            position: relative;
        }

        .logo-fish {
            font-size: 5rem;
            margin-right: 20px;
            animation: swim 4s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(--accent-cyan));
        }

        .logo-text {
            font-size: 4rem;
            font-weight: 800;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Space Grotesk', sans-serif;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            animation: textPulse 2s ease-in-out infinite;
        }

        @keyframes swim {
            0%, 100% { transform: translateX(0px) rotate(0deg) scale(1); }
            25% { transform: translateX(10px) rotate(2deg) scale(1.05); }
            75% { transform: translateX(-5px) rotate(-1deg) scale(0.95); }
        }

        @keyframes textPulse {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.2); }
        }

        .subtitle {
            font-size: 1.4rem;
            opacity: 0.9;
            margin-bottom: 50px;
            font-weight: 300;
            background: linear-gradient(45deg, #fff, var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .form-group {
            margin-bottom: 30px;
            text-align: left;
            position: relative;
        }

        .form-label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--accent-cyan);
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-input {
            width: 100%;
            padding: 20px 25px;
            border: none;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1.1rem;
            border: 2px solid transparent;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-cyan);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }

        .login-btn {
            width: 100%;
            padding: 22px 40px;
            border: none;
            border-radius: 25px;
            background: var(--gradient-cyber);
            color: white;
            font-size: 1.4rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            margin-top: 30px;
            font-family: 'Space Grotesk', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        .login-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .login-btn:hover::before {
            left: 100%;
        }

        .login-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 50px rgba(0, 255, 255, 0.5);
        }

        /* Training Container */
        .training-container {
            display: none;
            min-height: 100vh;
            position: relative;
        }

        .slide {
            display: none;
            min-height: 100vh;
            padding: 120px 40px 120px 40px;
            text-align: center;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .slide.active {
            display: flex;
        }

        h1 {
            font-size: 4rem;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 800;
            animation: titleGlow 2s ease-in-out infinite;
            line-height: 1.2;
        }

        @keyframes titleGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }

        h2 {
            font-size: 3rem;
            margin-bottom: 40px;
            background: linear-gradient(45deg, #fff, var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            line-height: 1.3;
        }

        .big-text {
            font-size: 2rem;
            margin: 30px 0;
            font-weight: 600;
            line-height: 1.6;
        }

        .highlight {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 35px 60px;
            border-radius: 25px;
            font-size: 1.8rem;
            font-weight: 700;
            margin: 40px auto;
            border: 1px solid var(--glass-border);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            animation: highlightPulse 3s ease-in-out infinite;
            max-width: 90%;
        }

        @keyframes highlightPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .temperature-danger {
            background: linear-gradient(135deg, #FF3366, #FF6B6B);
            padding: 50px;
            border-radius: 30px;
            margin: 40px auto;
            font-size: 2rem;
            font-weight: 800;
            box-shadow: 0 30px 70px rgba(255, 51, 102, 0.4);
            animation: dangerPulse 2s ease-in-out infinite;
            max-width: 90%;
        }

        @keyframes dangerPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 20px 50px rgba(255, 51, 102, 0.3); }
            50% { transform: scale(1.02); box-shadow: 0 25px 60px rgba(255, 51, 102, 0.5); }
        }

        .icon {
            font-size: 5rem;
            margin: 30px 0;
            filter: drop-shadow(0 0 30px var(--accent-cyan));
            animation: iconFloat 4s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin: 50px auto;
            max-width: 1400px;
            width: 100%;
        }

        .step {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .step::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-accent);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .step:hover::before {
            opacity: 0.1;
        }

        .step:hover {
            transform: translateY(-15px) scale(1.03);
            box-shadow: 
                0 25px 60px rgba(0, 0, 0, 0.3),
                0 0 50px rgba(0, 255, 255, 0.2);
        }

        .step-number {
            background: var(--gradient-cyber);
            color: white;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: 800;
            margin: 0 auto 25px;
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
            animation: numberPulse 2s ease-in-out infinite;
        }

        @keyframes numberPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .navigation {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            background: var(--gradient-cyber);
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
            font-family: 'Space Grotesk', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .nav-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.5);
        }

        .slide-counter {
            position: fixed;
            top: 30px;
            right: 30px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.3rem;
            font-weight: 600;
            border: 1px solid var(--glass-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 999;
        }

        .warning-box, .success-box {
            padding: 35px;
            border-radius: 25px;
            margin: 30px auto;
            font-weight: 700;
            font-size: 1.6rem;
            position: relative;
            overflow: hidden;
            animation: boxGlow 3s ease-in-out infinite;
            max-width: 90%;
        }

        .warning-box {
            background: linear-gradient(135deg, #FF3366, #FF6B6B);
            box-shadow: 0 20px 50px rgba(255, 51, 102, 0.3);
        }

        .success-box {
            background: linear-gradient(135deg, #00FF88, #00CC66);
            box-shadow: 0 20px 50px rgba(0, 255, 136, 0.3);
        }

        @keyframes boxGlow {
            0%, 100% { box-shadow: 0 20px 50px rgba(255, 51, 102, 0.3); }
            50% { box-shadow: 0 25px 60px rgba(255, 51, 102, 0.5); }
        }

        .logo {
            position: fixed;
            top: 30px;
            left: 30px;
            display: flex;
            align-items: center;
            z-index: 1000;
        }

        .logo-small {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-family: 'Space Grotesk', sans-serif;
        }

        .logo-fish-small {
            font-size: 2.5rem;
            margin-right: 15px;
            animation: swim 3s ease-in-out infinite;
        }

        .user-info {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 500;
            border: 1px solid var(--glass-border);
            z-index: 999;
        }

        .law-info {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border-left: 5px solid var(--accent-cyan);
            padding: 30px;
            margin: 30px auto;
            border-radius: 15px;
            font-size: 1.2rem;
            text-align: left;
            border: 1px solid var(--glass-border);
            position: relative;
            max-width: 90%;
        }

        .law-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), transparent);
            pointer-events: none;
        }

        /* Quiz Styles */
        .quiz-question {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            transition: all 0.3s ease;
            width: 100%;
            max-width: 900px;
        }

        .quiz-question:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.2);
        }

        .question-header {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 25px;
        }

        .question-number {
            background: var(--gradient-cyber);
            color: white;
            min-width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 800;
            flex-shrink: 0;
            box-shadow: 0 8px 20px rgba(0, 255, 255, 0.3);
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 600;
            line-height: 1.6;
            color: white;
            padding-top: 10px;
            text-align: left;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-left: 70px;
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 15px;
            padding: 18px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--accent-cyan);
            transform: translateX(10px);
        }

        .quiz-option input[type="radio"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: var(--accent-cyan);
            flex-shrink: 0;
        }

        .option-label {
            font-size: 1.2rem;
            font-weight: 500;
            color: white;
            line-height: 1.5;
            text-align: left;
        }

        .quiz-option input[type="radio"]:checked + .option-label {
            color: var(--accent-cyan);
            font-weight: 700;
        }

        #quizResult {
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: 600;
            animation: slideInUp 0.5s ease-out;
            margin: 30px auto;
            max-width: 900px;
        }

        #quizResult.success {
            background: linear-gradient(135deg, #00FF88, #00CC66);
            color: white;
            box-shadow: 0 20px 50px rgba(0, 255, 136, 0.3);
        }

        #quizResult.error {
            background: linear-gradient(135deg, #FF3366, #FF6B6B);
            color: white;
            box-shadow: 0 20px 50px rgba(255, 51, 102, 0.3);
        }

        .slide-link-btn {
            background: transparent;
            color: var(--accent-cyan);
            border: 2px solid var(--accent-cyan);
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            font-weight: 600;
        }

        .slide-link-btn:hover {
            background: var(--accent-cyan);
            color: #0a0a0a;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
        }

        /* Completion Screen */
        .completion-screen {
            display: none;
            min-height: 100vh;
            padding: 60px 20px;
            text-align: center;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .completion-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border-radius: 30px;
            padding: 70px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 30px 80px rgba(0, 0, 0, 0.3),
                0 0 80px rgba(0, 255, 255, 0.2);
            max-width: 700px;
            width: 100%;
            animation: slideInUp 1s ease-out;
            position: relative;
            overflow: hidden;
        }

        .completion-icon {
            font-size: 8rem;
            margin-bottom: 40px;
            filter: drop-shadow(0 0 50px var(--accent-cyan));
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0) scale(1); }
            40% { transform: translateY(-30px) scale(1.1); }
            60% { transform: translateY(-15px) scale(1.05); }
        }

        .completion-title {
            font-size: 3rem;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 800;
            animation: titleGlow 2s ease-in-out infinite;
        }

        .completion-message {
            font-size: 1.6rem;
            margin-bottom: 50px;
            line-height: 1.8;
            font-weight: 400;
        }

        .certificate-btn {
            background: var(--gradient-cyber);
            color: white;
            border: none;
            padding: 25px 50px;
            border-radius: 25px;
            font-size: 1.4rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            margin: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Space Grotesk', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .certificate-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .certificate-btn:hover::before {
            left: 100%;
        }

        .certificate-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 50px rgba(0, 255, 255, 0.5);
        }

        .restart-btn {
            background: transparent;
            color: var(--accent-cyan);
            border: 2px solid var(--accent-cyan);
            padding: 20px 40px;
            border-radius: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.4s ease;
            margin: 15px;
            font-weight: 600;
        }

        .restart-btn:hover {
            background: var(--accent-cyan);
            color: #0a0a0a;
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.3);
        }

        #certificateCanvas {
            display: none;
        }

        /* Responsive Design - IMPROVED */
        @media (max-width: 1024px) {
            .slide {
                padding: 100px 30px 100px 30px;
            }
            
            h1 { font-size: 3rem; }
            h2 { font-size: 2.5rem; }
            .big-text { font-size: 1.7rem; }
            
            .user-info {
                font-size: 1rem;
                padding: 12px 20px;
            }
        }

        @media (max-width: 768px) {
            .login-container, .completion-container {
                padding: 40px 25px;
                margin: 15px;
            }
            
            .slide {
                padding: 100px 20px 100px 20px;
            }
            
            h1 { 
                font-size: 2.5rem;
                line-height: 1.3;
            }
            
            h2 { 
                font-size: 2rem;
                line-height: 1.4;
            }
            
            .big-text { 
                font-size: 1.4rem;
                line-height: 1.7;
            }
            
            .steps { 
                grid-template-columns: 1fr; 
                gap: 25px;
                padding: 0 10px;
            }
            
            .navigation {
                bottom: 20px;
                right: 20px;
                gap: 10px;
            }
            
            .nav-btn {
                padding: 15px 25px;
                font-size: 1rem;
            }
            
            .logo {
                top: 20px;
                left: 20px;
            }
            
            .logo-small {
                font-size: 1.8rem;
            }
            
            .logo-fish-small {
                font-size: 2rem;
            }
            
            .slide-counter {
                top: 20px;
                right: 20px;
                font-size: 1.1rem;
                padding: 12px 20px;
            }
            
            .user-info {
                position: static;
                transform: none;
                margin: 0 auto 20px;
                width: calc(100% - 40px);
                max-width: 400px;
            }
            
            .icon {
                font-size: 3.5rem;
            }
            
            .completion-icon {
                font-size: 5rem;
            }
            
            .completion-title {
                font-size: 2.2rem;
            }
            
            .completion-message {
                font-size: 1.2rem;
            }
            
            .temperature-danger {
                font-size: 1.6rem;
                padding: 30px 20px;
            }
            
            .highlight {
                font-size: 1.2rem;
                padding: 25px 30px;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .option-label {
                font-size: 1.1rem;
            }
            
            .quiz-options {
                margin-left: 0;
            }
            
            .question-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .law-info {
                font-size: 1.1rem;
                padding: 25px;
            }
            
            .logo-large .logo-fish {
                font-size: 3.5rem;
                margin-right: 15px;
            }
            
            .logo-large .logo-text {
                font-size: 3rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
            }
            
            .certificate-btn {
                padding: 20px 35px;
                font-size: 1.2rem;
            }
            
            .form-label {
                font-size: 1rem;
            }
            
            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            h1 { 
                font-size: 2rem;
                margin-bottom: 20px;
            }
            
            h2 { 
                font-size: 1.7rem;
                margin-bottom: 25px;
            }
            
            .big-text { 
                font-size: 1.2rem;
            }
            
            .slide {
                padding: 90px 15px 90px 15px;
            }
            
            .step {
                padding: 30px 20px;
            }
            
            .step-number {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }
            
            .highlight {
                font-size: 1.1rem;
                padding: 20px 25px;
            }
            
            .temperature-danger {
                font-size: 1.4rem;
                padding: 25px 15px;
            }
            
            .nav-btn {
                padding: 12px 20px;
                font-size: 0.95rem;
            }
            
            .quiz-question {
                padding: 20px;
            }
            
            .question-number {
                min-width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .option-label {
                font-size: 1rem;
            }
            
            .law-info {
                font-size: 1rem;
                padding: 20px;
            }
            
            .logo-large .logo-fish {
                font-size: 2.5rem;
            }
            
            .logo-large .logo-text {
                font-size: 2.2rem;
            }
        }

        /* Print styles */
        @media print {
            .navigation,
            .logo,
            .user-info,
            .slide-counter {
                display: none !important;
            }
            
            .slide {
                page-break-after: always;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="logo-large">
                <div class="logo-fish">üêü</div>
                <div class="logo-text">ELMAR</div>
            </div>
            <div class="subtitle">Szkolenie Wstƒôpne - Bezpiecze≈Ñstwo i Higiena</div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label" for="firstName">Imiƒô</label>
                    <input type="text" class="form-input" id="firstName" placeholder="Wprowad≈∫ swoje imiƒô" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="lastName">Nazwisko</label>
                    <input type="text" class="form-input" id="lastName" placeholder="Wprowad≈∫ swoje nazwisko" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="trainingDate">Data szkolenia</label>
                    <input type="date" class="form-input" id="trainingDate" required>
                </div>
                
                <button type="submit" class="login-btn">Rozpocznij Szkolenie</button>
            </form>
        </div>
    </div>

    <!-- Training Container -->
    <div class="training-container" id="trainingContainer">
        <div class="logo">
            <div class="logo-fish-small">üêü</div>
            <div class="logo-small">ELMAR</div>
        </div>
        <div class="user-info" id="userInfo"></div>
        <div class="slide-counter">
            <span id="current-slide">1</span> / <span id="total-slides">20</span>
        </div>

        <!-- Slide 1: Tytu≈Ç -->
        <div class="slide active">
            <div class="icon fish-icon">üêü</div>
            <h1>BEZPIECZE≈ÉSTWO ≈ªYWNO≈öCI</h1>
            <div class="big-text">Szkolenie wstƒôpne dla nowych pracownik√≥w</div>
            <div class="highlight cyber-border">
                <strong>Przetw√≥rstwo Ryb ELMAR - Program Kompletny</strong>
            </div>
            <p style="font-size: 1.4rem; margin-top: 50px; opacity: 0.9; font-weight: 300;">
                Twoje zdrowie i zdrowie konsument√≥w w Twoich rƒôkach
            </p>
        </div>

        <!-- Slide 2: Podstawa prawna -->
        <div class="slide">
            <div class="icon">‚öñÔ∏è</div>
            <h2>PODSTAWA PRAWNA SZKOLENIA</h2>
            <div class="law-info">
                <strong>RozporzƒÖdzenie (WE) Nr 852/2004 - Rozdzia≈Ç XII "SZKOLENIE":</strong><br><br>
                Przedsiƒôbiorstwa sektora spo≈ºywczego zapewniajƒÖ:<br>
                ‚Ä¢ Personel pracujƒÖcy z ≈ºywno≈õciƒÖ jest <strong>nadzorowany i/lub szkolony</strong> w sprawach higieny ≈ºywno≈õci<br>
                ‚Ä¢ Osoby odpowiedzialne za HACCP <strong>przesz≈Çy odpowiednie szkolenie</strong><br>
                ‚Ä¢ <strong>Zgodno≈õƒá z wymaganiami</strong> krajowych program√≥w szkoleniowych
            </div>
            <div class="highlight cyber-border">
                To szkolenie jest <strong>OBOWIƒÑZKOWE</strong> zgodnie z prawem UE
            </div>
        </div>

        <!-- Slide 3: Dlaczego to wa≈ºne -->
        <div class="slide">
            <div class="icon">‚ö†Ô∏è</div>
            <h2>DLACZEGO TO TAKIE WA≈ªNE?</h2>
            <div class="warning-box">
                Jedna bakteria mo≈ºe siƒô rozmno≈ºyƒá do 16 milion√≥w w ciƒÖgu 8 godzin!
            </div>
            <div class="big-text">
                Ryby to produkt <strong style="color: var(--accent-cyan);">BARDZO SZYBKO PSUJƒÑCY SIƒò</strong>
            </div>
            <div class="highlight cyber-border">
                Twoja praca chroni zdrowie tysiƒôcy ludzi ka≈ºdego dnia
            </div>
            <div class="law-info">
                <strong>Na brudnych rƒôkach:</strong> 10 milion√≥w bakterii/cm¬≤<br>
                <strong>Po myciu:</strong> 100 tysiƒôcy bakterii/cm¬≤<br>
                <strong>Po dezynfekcji:</strong> 10 bakterii/cm¬≤
            </div>
        </div>

        <!-- Slide 4: HACCP - Co to jest? (NOWY) -->
        <div class="slide">
            <div class="icon">üî¨</div>
            <h2>CZYM JEST HACCP?</h2>
            <div class="big-text">
                <strong style="color: var(--accent-cyan);">HACCP</strong> = Hazard Analysis and Critical Control Points
            </div>
            <div class="highlight cyber-border">
                System analizy zagro≈ºe≈Ñ i krytycznych punkt√≥w kontroli
            </div>
            <div class="big-text" style="font-size: 1.6rem; margin: 40px auto; max-width: 900px;">
                To system, kt√≥ry <strong>identyfikuje, ocenia i kontroluje</strong> zagro≈ºenia dla bezpiecze≈Ñstwa ≈ºywno≈õci
            </div>
            <div class="success-box">
                PAMIƒòTAJ: "CO NIE ZOSTA≈ÅO ZAPISANE, NIE ZOSTA≈ÅO WYKONANE"
            </div>
        </div>

        <!-- Slide 5: Zagro≈ºenia w przetw√≥rstwie ryb (NOWY) -->
        <div class="slide">
            <div class="icon">‚ò£Ô∏è</div>
            <h2>RODZAJE ZAGRO≈ªE≈É</h2>
            <div class="steps">
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 51, 102, 0.2), rgba(255, 107, 107, 0.2)); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">ü¶†</div>
                    <strong style="font-size: 1.4rem;">BIOLOGICZNE</strong><br><br>
                    Bakterie (Salmonella, Listeria)<br>
                    Paso≈ºyty (Anisakis)<br>
                    Histamina
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2)); border-color: #FFD700;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FFD700, #FFA500);">‚öóÔ∏è</div>
                    <strong style="font-size: 1.4rem;">CHEMICZNE</strong><br><br>
                    ≈örodki czysto≈õci<br>
                    Metale ciƒô≈ºkie<br>
                    Toksyny naturalne
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(138, 43, 226, 0.2), rgba(102, 126, 234, 0.2)); border-color: #8A2BE2;">
                    <div class="step-number" style="background: linear-gradient(135deg, #8A2BE2, #667eea);">üî©</div>
                    <strong style="font-size: 1.4rem;">FIZYCZNE</strong><br><br>
                    Kawa≈Çki szk≈Ça<br>
                    Metal, o≈õci<br>
                    Cia≈Ça obce
                </div>
            </div>
            <div class="warning-box">
                Ka≈ºdy pracownik musi rozpoznawaƒá i eliminowaƒá te zagro≈ºenia!
            </div>
        </div>

        <!-- Slide 6: CP i CCP w ELMAR (NOWY) -->
        <div class="slide">
            <div class="icon">üéØ</div>
            <h2>PUNKTY KONTROLI W ELMAR</h2>
            <div class="big-text">
                <strong style="color: #FFD700;">CP</strong> = Punkt Kontroli<br>
                <strong style="color: #FF3366;">CCP</strong> = Krytyczny Punkt Kontroli
            </div>
            <div class="steps">
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2)); border-color: #FFD700;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FFD700, #FFA500); color: #0a0a0a;">CP</div>
                    <strong style="font-size: 1.3rem;">ROZMRA≈ªANIE</strong><br><br>
                    Temperatura ko≈Ñcowa<br>
                    <strong style="color: #FFD700;">MAX +4¬∞C</strong>
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2)); border-color: #FFD700;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FFD700, #FFA500); color: #0a0a0a;">CP</div>
                    <strong style="font-size: 1.3rem;">MARYNOWANIE</strong><br><br>
                    Czas: 24h-72h<br>
                    Temp: <strong style="color: #FFD700;">MAX +14¬∞C</strong>
                </div>
            </div>
            <div class="steps" style="margin-top: 30px;">
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 51, 102, 0.2), rgba(255, 107, 107, 0.2)); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">CCP</div>
                    <strong style="font-size: 1.3rem;">WƒòDZENIE</strong><br><br>
                    Temperatura<br>
                    <strong style="color: #FF3366;">MIN 72¬∞C w centrum</strong>
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(255, 51, 102, 0.2), rgba(255, 107, 107, 0.2)); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">CCP</div>
                    <strong style="font-size: 1.3rem;">SMA≈ªENIE</strong><br><br>
                    Temperatura oleju<br>
                    <strong style="color: #FF3366;">MIN 180¬∞C</strong>
                </div>
            </div>
        </div>

        <!-- Slide 7: Z≈Çota zasada temperatury -->
        <div class="slide">
            <div class="icon">üå°Ô∏è</div>
            <h2>Z≈ÅOTA ZASADA TEMPERATURY</h2>
            <div class="temperature-danger">
                <div style="font-size: 4rem; margin-bottom: 25px; font-weight: 800;">4¬∞C</div>
                <div style="font-size: 1.8rem;">TEMPERATURA CH≈ÅODZENIA</div>
                <div style="margin-top: 25px; font-size: 1.6rem;">Wy≈ºej = NIEBEZPIECZE≈ÉSTWO!</div>
            </div>
            <div class="big-text">
                Pamiƒôtaj: <span style="color: var(--accent-cyan);">Zimno = Bezpieczne</span>
            </div>
            <div class="law-info">
                <strong>Wymaganie prawne:</strong> Rozp. (WE) 853/2004 - produkty rybo≈Ç√≥wstwa muszƒÖ byƒá przechowywane w temperaturze zbli≈ºonej do lodu topniejƒÖcego (0¬∞C do 4¬∞C)
            </div>
        </div>

        <!-- Slide 8: Stan zdrowia -->
        <div class="slide">
            <div class="icon">üè•</div>
            <h2>WYMOGI ZDROWOTNE</h2>
            <div class="warning-box">
                NIE MO≈ªESZ PRACOWAƒÜ JE≈öLI JESTE≈ö CHORY!
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">üìã</div>
                    <strong>ORZECZENIE LEKARSKIE</strong><br>ObowiƒÖzkowe przed podjƒôciem pracy
                </div>
                <div class="step">
                    <div class="step-number">ü§í</div>
                    <strong>OBJAWY CHOROBY</strong><br>GorƒÖczka, biegunka, wymioty, b√≥l gard≈Ça, katar
                </div>
                <div class="step">
                    <div class="step-number">ü©π</div>
                    <strong>RANY I SKALECZENIA</strong><br>MuszƒÖ byƒá zabezpieczone opatrunkiem
                </div>
            </div>
            <div class="law-info">
                <strong>Podstawa prawna:</strong> Ustawa z 25.08.2006 r., art. 59 - obowiƒÖzek posiadania orzeczenia lekarskiego dla cel√≥w sanitarno-epidemiologicznych<br><br>
                <strong>Fakt:</strong> 40% doros≈Çych to nosiciele gronkowca z≈Çocistego!
            </div>
        </div>

        <!-- Slide 9: Higiena rƒÖk -->
        <div class="slide">
            <div class="icon">üëè</div>
            <h2>CZYSTE RƒòCE = BEZPIECZNA ≈ªYWNO≈öƒÜ</h2>
            <div class="big-text" style="font-size: 1.7rem; margin-bottom: 30px;">
                <strong style="color: #FF3366;">Brudne rƒôce: 10.000.000 bakterii/cm¬≤</strong><br>
                <strong style="color: #FFD700;">Po myciu: 100.000 bakterii/cm¬≤</strong><br>
                <strong style="color: #00FF88;">Po dezynfekcji: 10 bakterii/cm¬≤</strong>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>ZAWSZE</strong><br>przed pracƒÖ
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>ZAWSZE</strong><br>po przerwie
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>ZAWSZE</strong><br>po dotkniƒôciu czegokolwiek brudnego
                </div>
            </div>
            <div class="highlight cyber-border">
                Minimum 20 sekund mycia + ≈õrodek dezynfekujƒÖcy
            </div>
            <div class="warning-box">
                RƒòKAWICE NIE ZWALNIAJƒÑ Z MYCIA RƒÑK!
            </div>
        </div>

        <!-- Slide 10: Odzie≈º ochronna -->
        <div class="slide">
            <div class="icon">üëï</div>
            <h2>ODZIE≈ª OCHRONNA</h2>
            <div class="big-text">Twoja <span style="color: var(--accent-cyan);">ZBROJA</span> przeciwko zanieczyszczeniom</div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">‚úì</div>
                    <strong>CZAPKA/SIATKA</strong><br>zakrywa w≈Çosy ca≈Çkowicie
                </div>
                <div class="step">
                    <div class="step-number">‚úì</div>
                    <strong>FARTUCH</strong><br>czyste ubranie robocze
                </div>
                <div class="step">
                    <div class="step-number">‚úì</div>
                    <strong>RƒòKAWICE</strong><br>gdy wymagane, czƒôsto zmieniane
                </div>
            </div>
            <div class="warning-box">
                Brudna odzie≈º = Przenoszenie bakterii na ≈ºywno≈õƒá!
            </div>
            <div class="law-info">
                <strong>Wa≈ºne:</strong> Na suchej odzie≈ºy bakterie ≈ºyjƒÖ 4h, na mokrej - 24h!<br>
                Po myciu rƒôcznym - zmie≈Ñ odzie≈º roboczƒÖ!
            </div>
        </div>

        <!-- Slide 11: Co NIGDY nie wolno -->
        <div class="slide">
            <div class="icon">üö´</div>
            <h2>NIGDY NIE R√ìB TEGO!</h2>
            <div class="steps">
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>NIE</strong> jedz podczas pracy
                </div>
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>NIE</strong> dotykaj twarzy
                </div>
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>NIE</strong> pracuj chory
                </div>
            </div>
            <div class="steps">
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>NIE</strong> no≈õ bi≈ºuterii, zegarka
                </div>
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>NIE</strong> u≈ºywaj telefonu
                </div>
                <div class="step" style="background: rgba(255, 51, 102, 0.2); border-color: #FF3366;">
                    <div class="step-number" style="background: linear-gradient(135deg, #FF3366, #FF6B6B);">‚ùå</div>
                    <strong>NIE</strong> pal papieros√≥w
                </div>
            </div>
            <div class="warning-box">
                Te b≈Çƒôdy mogƒÖ ska≈ºyƒá ca≈ÇƒÖ produkcjƒô!
            </div>
        </div>

        <!-- Slide 12: Specyfika ELMAR - Procesy (NOWY) -->
        <div class="slide">
            <div class="icon">üè≠</div>
            <h2>ZAK≈ÅAD ELMAR - NASZE PROCESY</h2>
            <div class="big-text">
                Produkujemy <strong style="color: var(--accent-cyan);">60 ton</strong> produkt√≥w tygodniowo
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>PRODUKTY SOLONE</strong><br>20 ton/tydzie≈Ñ
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>PRODUKTY MARYNOWANE</strong><br>18 ton/tydzie≈Ñ
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>PRODUKTY WƒòDZONE</strong><br>18 ton/tydzie≈Ñ
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <strong>PRODUKTY INNE</strong><br>4 tony/tydzie≈Ñ
                </div>
            </div>
            <div class="highlight cyber-border">
                G≈Ç√≥wne surowce: makrela, ≈õled≈∫, ≈Çoso≈õ, dorsz
            </div>
        </div>

        <!-- Slide 13: Rozmra≈ºanie - Procedura (NOWY) -->
        <div class="slide">
            <div class="icon">‚ùÑÔ∏è</div>
            <h2>PROCEDURA ROZMRA≈ªANIA</h2>
            <div class="big-text" style="font-size: 1.6rem; color: #FFD700;">
                CP - Punkt Kontroli: Temperatura MAX +4¬∞C
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>PRZYJƒòCIE</strong><br>Surowiec mro≈ºony -18¬∞C do -20¬∞C
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>TRANSPORT</strong><br>Do pomieszczenia rozmra≈ºania
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>ROZMRA≈ªANIE</strong><br>6-12 godzin do temp. max +4¬∞C
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <strong>KONTROLA</strong><br>Pomiar termometrem kalibrowanym
                </div>
                <div class="step">
                    <div class="step-number">5</div>
                    <strong>ZAPIS</strong><br>Odnotowanie w karcie kontroli
                </div>
                <div class="step">
                    <div class="step-number">6</div>
                    <strong>DO PRODUKCJI</strong><br>Natychmiast po rozmro≈ºeniu
                </div>
            </div>
            <div class="warning-box">
                Temperatura >+6¬∞C = Zatrzymanie i decyzja Kontrolera Jako≈õci!
            </div>
        </div>

        <!-- Slide 14: Wƒôdzenie - CCP (NOWY) -->
        <div class="slide">
            <div class="icon">üî•</div>
            <h2>WƒòDZENIE I OBR√ìBKA TERMICZNA</h2>
            <div class="temperature-danger">
                <div style="font-size: 4rem; margin-bottom: 25px; font-weight: 800;">72¬∞C</div>
                <div style="font-size: 1.8rem;">CCP - TEMPERATURA MINIMALNA</div>
                <div style="margin-top: 25px; font-size: 1.6rem;">W CENTRUM PRODUKTU!</div>
            </div>
            <div class="big-text">
                Dotyczy: <strong style="color: var(--accent-cyan);">Wƒôdzenia ‚Ä¢ Pieczenia ‚Ä¢ Sma≈ºenia</strong>
            </div>
            <div class="highlight cyber-border">
                Ta temperatura zabija bakterie chorobotw√≥rcze!
            </div>
            <div class="law-info">
                <strong>Kontrola CCP:</strong><br>
                ‚Ä¢ Pomiar temperatury termometrem sondowym<br>
                ‚Ä¢ Zapis w karcie kontroli CCP<br>
                ‚Ä¢ Sprawdzenie ka≈ºdej partii produkcyjnej
            </div>
        </div>

        <!-- Slide 15: Mycie i dezynfekcja 3 kroki (NOWY) -->
        <div class="slide">
            <div class="icon">üßΩ</div>
            <h2>MYCIE I DEZYNFEKCJA - 3 KROKI</h2>
            <div class="steps">
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 102, 255, 0.2)); border-color: #00FFFF;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FFFF, #0066FF); color: #0a0a0a;">1</div>
                    <strong style="font-size: 1.5rem;">CZYSZCZENIE</strong><br><br>
                    Usuniƒôcie widocznych zanieczyszcze≈Ñ<br>
                    Szczotkami plastikowymi<br>
                    Sp≈Çukanie wodƒÖ
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 102, 255, 0.2)); border-color: #00FFFF;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FFFF, #0066FF); color: #0a0a0a;">2</div>
                    <strong style="font-size: 1.5rem;">MYCIE</strong><br><br>
                    ≈örodkiem myjƒÖcym wg instrukcji<br>
                    Odpowiednia temperatura i czas<br>
                    Dok≈Çadne sp≈Çukanie
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 102, 255, 0.2)); border-color: #00FFFF;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FFFF, #0066FF); color: #0a0a0a;">3</div>
                    <strong style="font-size: 1.5rem;">DEZYNFEKCJA</strong><br><br>
                    ≈örodkiem dezynfekcyjnym<br>
                    Okre≈õlony czas kontaktu<br>
                    Pozostawiƒá do wyschniƒôcia
                </div>
            </div>
            <div class="success-box">
                Tylko 3 kroki dajƒÖ pe≈Çne bezpiecze≈Ñstwo!
            </div>
        </div>

        <!-- Slide 16: UPPZ (NOWY) -->
        <div class="slide">
            <div class="icon">‚ôªÔ∏è</div>
            <h2>UPPZ - UBOCZNE PRODUKTY</h2>
            <div class="big-text">
                <strong style="color: var(--accent-cyan);">UPPZ</strong> = Uboczne Produkty Pochodzenia Zwierzƒôcego
            </div>
            <div class="highlight cyber-border">
                W ELMAR: G≈Ç√≥wnie odpady KATEGORIA 3
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>SEGREGACJA</strong><br>Na stanowisku pracy
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>POJEMNIKI</strong><br>Oznakowane "UPPZ KAT-3"
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>TRANSPORT</strong><br>Do magazynu UPPZ (wyj≈õcie p√≥≈Çnocne)
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <strong>ODBI√ìR</strong><br>Zak≈Çad STABO w ≈Åapach
                </div>
            </div>
            <div class="law-info">
                <strong>Wymaganie:</strong> Dokumentowanie wszystkich operacji z UPPZ<br>
                <strong>Przechowywanie:</strong> Warunki ch≈Çodnicze
            </div>
        </div>

        <!-- Slide 17: Czysto≈õƒá stanowiska -->
        <div class="slide">
            <div class="icon">‚ú®</div>
            <h2>CZYSTE STANOWISKO PRACY</h2>
            <div class="big-text">
                <span style="color: var(--accent-cyan);">CZY≈öCISZ</span> = <span style="color: #00FF88;">CHRONISZ</span>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <strong>PRZED</strong><br>rozpoczƒôciem pracy
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <strong>W TRAKCIE</strong><br>gdy siƒô pobrudzi
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <strong>PO</strong><br>zako≈Ñczeniu pracy
                </div>
            </div>
            <div class="success-box">
                Czyste narzƒôdzia i powierzchnie = Bezpieczny produkt
            </div>
            <div class="law-info">
                <strong>Wymaganie HACCP:</strong> Stosowanie zatwierdzonego programu sanitarnego zgodnie z procedurami zak≈Çadu
            </div>
        </div>

        <!-- Slide 18: Dokumentowanie (NOWY) -->
        <div class="slide">
            <div class="icon">üìù</div>
            <h2>DOKUMENTOWANIE - ZAPISY</h2>
            <div class="warning-box">
                "CO NIE ZOSTA≈ÅO ZAPISANE, NIE ZOSTA≈ÅO WYKONANE"
            </div>
            <div class="big-text" style="font-size: 1.6rem; margin: 40px auto; max-width: 900px;">
                Ka≈ºdy pomiar temperatury, ka≈ºda kontrola <strong style="color: var(--accent-cyan);">MUSI BYƒÜ ZAPISANA</strong> w karcie kontroli
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">üìä</div>
                    <strong>KARTA KONTROLI</strong><br>Wype≈Çniaj czytelnie i na bie≈ºƒÖco
                </div>
                <div class="step">
                    <div class="step-number">üå°Ô∏è</div>
                    <strong>POMIARY</strong><br>Data, godzina, warto≈õƒá, podpis
                </div>
                <div class="step">
                    <div class="step-number">‚ö†Ô∏è</div>
                    <strong>NIEZGODNO≈öCI</strong><br>Natychmiast zg≈Ço≈õ prze≈Ço≈ºonemu
                </div>
            </div>
            <div class="highlight cyber-border">
                Zapisy to DOW√ìD naszej prawid≈Çowej pracy!
            </div>
        </div>

        <!-- Slide 19: Podsumowanie -->
        <div class="slide">
            <div class="icon">üèÜ</div>
            <h2>ZAPAMIƒòTAJ NA ZAWSZE</h2>
            <div class="steps">
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 204, 102, 0.2)); border-color: #00FF88;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FF88, #00CC66); color: #0a0a0a;">üå°Ô∏è</div>
                    <strong>ZIMNO</strong><br>Temperatura 4¬∞C
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 204, 102, 0.2)); border-color: #00FF88;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FF88, #00CC66); color: #0a0a0a;">üëè</div>
                    <strong>CZYSTE RƒòCE</strong><br>Myj regularnie
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 204, 102, 0.2)); border-color: #00FF88;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FF88, #00CC66); color: #0a0a0a;">üëï</div>
                    <strong>ODZIE≈ª</strong><br>Zawsze czysta
                </div>
                <div class="step" style="background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 204, 102, 0.2)); border-color: #00FF88;">
                    <div class="step-number" style="background: linear-gradient(135deg, #00FF88, #00CC66); color: #0a0a0a;">üìù</div>
                    <strong>ZAPISY</strong><br>Dokumentuj wszystko
                </div>
            </div>
            <div class="highlight cyber-border" style="font-size: 2rem; padding: 40px 60px;">
                <strong>TY JESTE≈ö STRA≈ªNIKIEM BEZPIECZE≈ÉSTWA ≈ªYWNO≈öCI!</strong>
            </div>
            <p style="font-size: 1.5rem; margin-top: 40px; font-weight: 400;">
                Pytania? Zawsze pytaj prze≈Ço≈ºonego lub Specjalistƒô ds. HACCP!
            </p>
        </div>

        <!-- Slide 20: Test weryfikacyjny - ROZBUDOWANY -->
        <div class="slide">
            <div class="icon">üìù</div>
            <h2>TEST WERYFIKACYJNY</h2>
            <div class="big-text" style="font-size: 1.8rem; margin-bottom: 40px;">
                Sprawd≈∫ swojƒÖ wiedzƒô!<br>
                <span style="color: var(--accent-cyan); font-size: 1.4rem;">Wymagane: 10/12 poprawnych odpowiedzi (min. 83%)</span>
            </div>
            
            <div id="quizContainer" style="max-width: 900px; margin: 0 auto; text-align: left;">
                <!-- Question 1 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">1</span>
                        <span class="question-text">Jaka jest maksymalna temperatura przechowywania ryb w zak≈Çadzie ELMAR?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="A">
                            <span class="option-label">A) 8¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="B">
                            <span class="option-label">B) 4¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="C">
                            <span class="option-label">C) 10¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="D">
                            <span class="option-label">D) 0¬∞C</span>
                        </label>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">2</span>
                        <span class="question-text">Co oznacza skr√≥t HACCP?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="A">
                            <span class="option-label">A) Hygienic Analysis and Control Plan</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="B">
                            <span class="option-label">B) Hazard Analysis and Critical Control Points</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="C">
                            <span class="option-label">C) Health and Cleaning Control Procedure</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="D">
                            <span class="option-label">D) Hygiene and Critical Control Protocol</span>
                        </label>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">3</span>
                        <span class="question-text">Ile bakterii znajduje siƒô na brudnych rƒôkach (na 1 cm¬≤)?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="A">
                            <span class="option-label">A) 1 milion bakterii</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="B">
                            <span class="option-label">B) 10 milion√≥w bakterii</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="C">
                            <span class="option-label">C) 100 tysiƒôcy bakterii</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="D">
                            <span class="option-label">D) 10 tysiƒôcy bakterii</span>
                        </label>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">4</span>
                        <span class="question-text">Jaka jest minimalna temperatura w CCP przy wƒôdzeniu ryb (w centrum produktu)?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="A">
                            <span class="option-label">A) 60¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="B">
                            <span class="option-label">B) 72¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="C">
                            <span class="option-label">C) 80¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="D">
                            <span class="option-label">D) 65¬∞C</span>
                        </label>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">5</span>
                        <span class="question-text">Kt√≥ra z poni≈ºszych sytuacji ZAWSZE wymaga umycia i dezynfekcji rƒÖk?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="A">
                            <span class="option-label">A) Po rozmowie telefonicznej</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="B">
                            <span class="option-label">B) Po powrocie z przerwy, przed ponownym rozpoczƒôciem pracy</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="C">
                            <span class="option-label">C) Po przej≈õciu przez korytarz</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="D">
                            <span class="option-label">D) Po spojrzeniu na zegarek</span>
                        </label>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">6</span>
                        <span class="question-text">Co powinien zrobiƒá pracownik, je≈õli zauwa≈ºy u siebie gorƒÖczkƒô lub biegunkƒô?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="A">
                            <span class="option-label">A) Nie przychodziƒá do pracy i poinformowaƒá o tym prze≈Ço≈ºonego</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="B">
                            <span class="option-label">B) Przyj≈õƒá do pracy, ale nosiƒá maseczkƒô</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="C">
                            <span class="option-label">C) Przyj≈õƒá i unikaƒá kontaktu z produktem</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="D">
                            <span class="option-label">D) Zaczekaƒá do ko≈Ñca dnia i oceniƒá stan zdrowia</span>
                        </label>
                    </div>
                </div>

                <!-- Question 7 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">7</span>
                        <span class="question-text">Ile wynosi MAKSYMALNA temperatura ko≈Ñcowa surowca po rozmra≈ºaniu (CP)?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="A">
                            <span class="option-label">A) +2¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="B">
                            <span class="option-label">B) +4¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="C">
                            <span class="option-label">C) +6¬∞C</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="D">
                            <span class="option-label">D) +8¬∞C</span>
                        </label>
                    </div>
                </div>

                <!-- Question 8 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">8</span>
                        <span class="question-text">Ile krok√≥w ma procedura mycia i dezynfekcji urzƒÖdze≈Ñ?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q8" value="A">
                            <span class="option-label">A) 2 kroki: mycie i dezynfekcja</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q8" value="B">
                            <span class="option-label">B) 3 kroki: czyszczenie, mycie, dezynfekcja</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q8" value="C">
                            <span class="option-label">C) 4 kroki: czyszczenie, mycie, p≈Çukanie, dezynfekcja</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q8" value="D">
                            <span class="option-label">D) 1 krok: wystarczy samo mycie</span>
                        </label>
                    </div>
                </div>

                <!-- Question 9 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">9</span>
                        <span class="question-text">Co oznacza skr√≥t UPPZ?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q9" value="A">
                            <span class="option-label">A) Uboczne Produkty Pochodzenia Zwierzƒôcego</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q9" value="B">
                            <span class="option-label">B) Uniwersalne Parametry Pracy Zak≈Çadu</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q9" value="C">
                            <span class="option-label">C) Ustalony Plan Produkcji Zak≈Çadowej</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q9" value="D">
                            <span class="option-label">D) U≈ºyteczne Procedury Producenta ≈ªywno≈õci</span>
                        </label>
                    </div>
                </div>

                <!-- Question 10 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">10</span>
                        <span class="question-text">Czy rƒôkawice ochronne zwalniajƒÖ pracownika z mycia rƒÖk?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q10" value="A">
                            <span class="option-label">A) Tak, rƒôkawice w pe≈Çni chroniƒÖ przed bakteriami</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q10" value="B">
                            <span class="option-label">B) Nie, rƒôce zawsze muszƒÖ byƒá umyte przed za≈Ço≈ºeniem rƒôkawic</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q10" value="C">
                            <span class="option-label">C) Tak, ale tylko gdy rƒôkawice sƒÖ nowe</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q10" value="D">
                            <span class="option-label">D) Zale≈ºy od rodzaju rƒôkawic</span>
                        </label>
                    </div>
                </div>

                <!-- Question 11 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">11</span>
                        <span class="question-text">Kt√≥ry z poni≈ºszych NIE jest rodzajem zagro≈ºenia w HACCP?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q11" value="A">
                            <span class="option-label">A) Zagro≈ºenie biologiczne (bakterie, paso≈ºyty)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q11" value="B">
                            <span class="option-label">B) Zagro≈ºenie chemiczne (≈õrodki czysto≈õci)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q11" value="C">
                            <span class="option-label">C) Zagro≈ºenie fizyczne (kawa≈Çki szk≈Ça, metal)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q11" value="D">
                            <span class="option-label">D) Zagro≈ºenie ekonomiczne (koszty produkcji)</span>
                        </label>
                    </div>
                </div>

                <!-- Question 12 -->
                <div class="quiz-question">
                    <div class="question-header">
                        <span class="question-number">12</span>
                        <span class="question-text">Co oznacza zasada "CO NIE ZOSTA≈ÅO ZAPISANE, NIE ZOSTA≈ÅO WYKONANE"?</span>
                    </div>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q12" value="A">
                            <span class="option-label">A) Ka≈ºdy pomiar i kontrola musi byƒá odnotowana w karcie kontroli</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q12" value="B">
                            <span class="option-label">B) Pracownik nie musi niczego zapisywaƒá, je≈õli wszystko jest w porzƒÖdku</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q12" value="C">
                            <span class="option-label">C) Zapisy robi tylko kierownik zmiany</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q12" value="D">
                            <span class="option-label">D) Wystarczy pamiƒôƒá, zapisy sƒÖ opcjonalne</span>
                        </label>
                    </div>
                </div>

                <button class="certificate-btn" onclick="submitQuiz()" style="width: 100%; margin-top: 40px;">
                    SPRAWD≈π ODPOWIEDZI
                </button>

                <div id="quizResult" style="display: none;"></div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-btn" onclick="previousSlide()">‚óÑ Poprzedni</button>
            <button class="nav-btn" onclick="nextSlide()">Nastƒôpny ‚ñ∫</button>
        </div>
    </div>

    <!-- Completion Screen -->
    <div class="completion-screen" id="completionScreen">
        <div class="completion-container">
            <div class="completion-icon">üéì</div>
            <div class="completion-title">GRATULACJE!</div>
            <div class="completion-message">
                Uko≈Ñczy≈Çe≈õ szkolenie wstƒôpne z bezpiecze≈Ñstwa ≈ºywno≈õci w zak≈Çadzie ELMAR.<br><br>
                Jeste≈õ teraz czƒô≈õciƒÖ zespo≈Çu, kt√≥ry dba o najwy≈ºszƒÖ jako≈õƒá i bezpiecze≈Ñstwo produkt√≥w.
            </div>
            <button class="certificate-btn" onclick="generateCertificate()">
                üìÑ POBIERZ POTWIERDZENIE
            </button>
            <button class="restart-btn" onclick="restartTraining()">
                üîÑ ZAKO≈ÉCZ SZKOLENIE
            </button>
        </div>
    </div>

    <canvas id="certificateCanvas" width="1200" height="800"></canvas>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        let trainingStartTime = null;
        let trainingEndTime = null;

        let userData = {};
        let quizPassed = false;

        // Set today's date as default
        document.getElementById('trainingDate').valueAsDate = new Date();

        // Correct answers for 12-question quiz
        const correctAnswers = {
            q1: 'B',  // 4¬∞C
            q2: 'B',  // Hazard Analysis and Critical Control Points
            q3: 'B',  // 10 milion√≥w bakterii
            q4: 'B',  // 72¬∞C
            q5: 'B',  // Po powrocie z przerwy
            q6: 'A',  // Nie przychodziƒá do pracy
            q7: 'B',  // +4¬∞C
            q8: 'B',  // 3 kroki
            q9: 'A',  // Uboczne Produkty Pochodzenia Zwierzƒôcego
            q10: 'B', // Nie, rƒôce muszƒÖ byƒá umyte
            q11: 'D', // Zagro≈ºenie ekonomiczne (nie istnieje w HACCP)
            q12: 'A'  // Ka≈ºdy pomiar musi byƒá zapisany
        };

        // Slide references for quiz questions
        const slideReferences = {
            q1: 6,   // Slide 7: Z≈Çota zasada temperatury
            q2: 3,   // Slide 4: HACCP - Co to jest?
            q3: 8,   // Slide 9: Higiena rƒÖk
            q4: 13,  // Slide 14: Wƒôdzenie - CCP
            q5: 8,   // Slide 9: Higiena rƒÖk
            q6: 7,   // Slide 8: Stan zdrowia
            q7: 12,  // Slide 13: Rozmra≈ºanie
            q8: 14,  // Slide 15: Mycie i dezynfekcja
            q9: 15,  // Slide 16: UPPZ
            q10: 8,  // Slide 9: Higiena rƒÖk
            q11: 4,  // Slide 5: Zagro≈ºenia
            q12: 17  // Slide 18: Dokumentowanie
        };

        // Update total slides display
        document.getElementById('total-slides').textContent = totalSlides;

        // Login form submission
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            userData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                trainingDate: document.getElementById('trainingDate').value
            };

            // Zapisz czas rozpoczƒôcia szkolenia
            trainingStartTime = new Date();

            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('trainingContainer').style.display = 'block';
            
            document.getElementById('userInfo').textContent = 
                `${userData.firstName} ${userData.lastName} | ${formatDate(userData.trainingDate)}`;
            
            showSlide(0);
        });

        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('pl-PL', options);
        }

        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            
            if (index >= 0 && index < totalSlides) {
                currentSlide = index;
                slides[currentSlide].classList.add('active');
                document.getElementById('current-slide').textContent = currentSlide + 1;
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function nextSlide() {
            if (currentSlide === totalSlides - 1) {
                // Last slide (quiz) - check if quiz is passed
                if (quizPassed) {
                    showCompletionScreen();
                } else {
                    alert('Musisz zaliczyƒá test weryfikacyjny zanim przejdziesz dalej. Wymagane: minimum 10/12 poprawnych odpowiedzi.');
                }
            } else {
                showSlide(currentSlide + 1);
            }
        }

        function previousSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        function showCompletionScreen() {
            document.getElementById('trainingContainer').style.display = 'none';
            document.getElementById('completionScreen').style.display = 'flex';
        }

        function restartTraining() {
            if (confirm('Czy na pewno chcesz zako≈Ñczyƒá szkolenie i wr√≥ciƒá do ekranu startowego?')) {
                location.reload();
            }
        }

        // Submit quiz
        function submitQuiz() {
            const form = document.getElementById('quizContainer');
            let correctCount = 0;
            let wrongQuestions = [];

            // Check all answers
            for (let question in correctAnswers) {
                const selected = document.querySelector(`input[name="${question}"]:checked`);
                if (selected && selected.value === correctAnswers[question]) {
                    correctCount++;
                } else {
                    wrongQuestions.push({
                        question: question,
                        slideIndex: slideReferences[question]
                    });
                }
            }

            const resultDiv = document.getElementById('quizResult');
            resultDiv.style.display = 'block';

            // Pass threshold: 10 out of 12 (83%)
            if (correctCount >= 10) {
                // PASS
                quizPassed = true;

                // Zapisz czas zako≈Ñczenia
                trainingEndTime = new Date();

                // Przygotuj szczeg√≥≈Çowe dane o b≈Çƒôdach
                let wrongQuestionsDetails = [];
                for (let question in correctAnswers) {
                    const selected = document.querySelector(`input[name="${question}"]:checked`);
                    if (!selected || selected.value !== correctAnswers[question]) {
                        wrongQuestionsDetails.push({
                            nr: parseInt(question.replace('q','')),
                            user: selected ? selected.value : "brak",
                            correct: correctAnswers[question]
                        });
                    }
                }

                // Oblicz czas trwania w sekundach
                let duration = 0;
                if (trainingStartTime && trainingEndTime) {
                    duration = Math.round((trainingEndTime - trainingStartTime) / 1000);
                }

                // Wy≈õlij dane do PHP
                fetch("sendmail.php", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        firstName: userData.firstName,
                        lastName: userData.lastName,
                        trainingDate: userData.trainingDate,
                        trainingEndTime: trainingEndTime.toISOString(),
                        score: correctCount,
                        total: Object.keys(correctAnswers).length,
                        wrong: wrongQuestionsDetails,
                        duration: duration
                    })
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Email wys≈Çany:', data);
                })
                .catch(error => {
                    console.error('B≈ÇƒÖd wysy≈Çki emaila:', error);
                });

                resultDiv.className = 'success';
                resultDiv.innerHTML = `
                    <div style="font-size: 3rem; margin-bottom: 20px;">‚úÖ</div>
                    <div style="font-size: 1.8rem; font-weight: 800; margin-bottom: 15px;">
                        GRATULACJE!
                    </div>
                    <div style="font-size: 1.3rem;">
                        Test zaliczony! Wynik: ${correctCount}/12 poprawnych odpowiedzi (${Math.round(correctCount/12*100)}%)!<br>
                        Mo≈ºesz przej≈õƒá dalej i odebraƒá potwierdzenie uko≈Ñczenia szkolenia.
                    </div>
                `;
                
                // Scroll to result
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            } else {
                // FAIL
                quizPassed = false;
                const wrongQuestionsNumbers = wrongQuestions.map(wq => {
                    return parseInt(wq.question.replace('q', ''));
                }).join(', ');

                resultDiv.className = 'error';
                resultDiv.innerHTML = `
                    <div style="font-size: 3rem; margin-bottom: 20px;">‚ùå</div>
                    <div style="font-size: 1.8rem; font-weight: 800; margin-bottom: 15px;">
                        Niestety, test nie zaliczony
                    </div>
                    <div style="font-size: 1.3rem; margin-bottom: 25px;">
                        Wynik: ${correctCount}/12 poprawnych (${Math.round(correctCount/12*100)}%)<br>
                        Wymagane minimum: 10/12 (83%)<br>
                        B≈Çƒôdne odpowiedzi w pytaniach: ${wrongQuestionsNumbers}
                    </div>
                    <div style="font-size: 1.2rem; margin-bottom: 20px;">
                        Wr√≥ƒá do odpowiednich slajd√≥w i sprawd≈∫ ponownie:
                    </div>
                    <div>
                        ${wrongQuestions.map(wq => `
                            <button class="slide-link-btn" onclick="goToSlideAndResetQuiz(${wq.slideIndex})">
                                Pytanie ${wq.question.replace('q', '')} ‚Üí Zobacz slajd ${wq.slideIndex + 1}
                            </button>
                        `).join('')}
                    </div>
                    <div style="margin-top: 30px; padding-top: 25px; border-top: 2px solid rgba(255,255,255,0.3);">
                        <button class="slide-link-btn" onclick="resetQuiz()" style="background: rgba(255,255,255,0.1); border-color: white;">
                            üîÑ Spr√≥buj ponownie
                        </button>
                    </div>
                `;

                // Scroll to result
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // Go to specific slide and reset quiz
        function goToSlideAndResetQuiz(slideIndex) {
            showSlide(slideIndex);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Reset quiz form
        function resetQuiz() {
            document.querySelectorAll('input[type="radio"]').forEach(input => input.checked = false);
            document.getElementById('quizResult').style.display = 'none';
            quizPassed = false;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Generate certificate
        function generateCertificate() {
            const canvas = document.getElementById('certificateCanvas');
            const ctx = canvas.getContext('2d');

            // Background
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#1a1a2e');
            gradient.addColorStop(0.5, '#16213e');
            gradient.addColorStop(1, '#0a0a0a');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Border
            ctx.strokeStyle = '#00FFFF';
            ctx.lineWidth = 10;
            ctx.strokeRect(30, 30, canvas.width - 60, canvas.height - 60);

            // Inner border
            ctx.strokeStyle = '#0066FF';
            ctx.lineWidth = 3;
            ctx.strokeRect(50, 50, canvas.width - 100, canvas.height - 100);

            // Logo text
            ctx.textAlign = 'center';
            const logoGradient = ctx.createLinearGradient(0, 150, canvas.width, 150);
            logoGradient.addColorStop(0, '#00FFFF');
            logoGradient.addColorStop(0.5, '#0066FF');
            logoGradient.addColorStop(1, '#8A2BE2');
            
            ctx.fillStyle = logoGradient;
            ctx.font = 'bold 72px "Space Grotesk", Arial';
            ctx.fillText('ELMAR', canvas.width/2, 150);

            // Main title
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'bold 48px Arial';
            ctx.fillText('POTWIERDZENIE SZKOLENIA', canvas.width/2, 250);

            // Subtitle
            ctx.fillStyle = '#00FFFF';
            ctx.font = '32px Arial';
            ctx.fillText('Szkolenie wstƒôpne z bezpiecze≈Ñstwa ≈ºywno≈õci i higieny', canvas.width/2, 310);
            ctx.fillText('dla pracownik√≥w produkcyjnych', canvas.width/2, 350);

            // Participant name
            ctx.fillStyle = '#FFFFFF';
            ctx.font = 'bold 40px Arial';
            const participantName = `${userData.firstName} ${userData.lastName}`;
            ctx.fillText(participantName, canvas.width/2, 450);

            // Underline for name
            const nameWidth = ctx.measureText(participantName).width;
            ctx.strokeStyle = '#00FFFF';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo((canvas.width - nameWidth)/2, 460);
            ctx.lineTo((canvas.width + nameWidth)/2, 460);
            ctx.stroke();

            // Date
            const trainingDate = new Date(userData.trainingDate);
            const months = [
                'stycznia', 'lutego', 'marca', 'kwietnia', 'maja', 'czerwca',
                'lipca', 'sierpnia', 'wrze≈õnia', 'pa≈∫dziernika', 'listopada', 'grudnia'
            ];
            const dateStr = `Data szkolenia: ${trainingDate.getDate()} ${months[trainingDate.getMonth()]} ${trainingDate.getFullYear()}`;
            
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '24px Arial';
            ctx.fillText(dateStr, canvas.width/2, 510);

            // Completion message
            ctx.fillStyle = '#00FF88';
            ctx.font = 'bold 28px Arial';
            ctx.fillText('SZKOLENIE UKO≈ÉCZONE POMY≈öLNIE', canvas.width/2, 580);

            // Company info
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.font = '15px Arial';
            ctx.fillText('P.H.U. "ELMAR" Lesiuk sp.j. - Zak≈Çad Przetw√≥rstwa Ryb', canvas.width/2, 670);
            ctx.fillText('opracowa≈Ç: mgr in≈º. Krzysztof Klebaniuk - specjalista ds. jako≈õci i HACCP ', canvas.width/2, 700);

            // Add some decorative elements
            ctx.fillStyle = '#00FFFF';
            ctx.fillRect(150, 190, 900, 2);  // Linia g√≥rna - pod logo ELMAR
            ctx.fillRect(150, 620, 900, 2);  // Linia dolna - pod komunikatem o uko≈Ñczeniu

            // Generate download
            const link = document.createElement('a');
            link.download = `Potwierdzenie_szkolenia_${userData.firstName}_${userData.lastName}_${userData.trainingDate}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }

        // Keyboard Navigation
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('trainingContainer').style.display === 'block') {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    nextSlide();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    previousSlide();
                } else if (e.key === 'Escape') {
                    e.preventDefault();
                    if (confirm('Czy chcesz przerwaƒá szkolenie i wr√≥ciƒá do strony logowania?')) {
                        restartTraining();
                    }
                }
            }
        });

        // Prevent context menu and excessive zoom on mobile
        document.addEventListener('contextmenu', e => e.preventDefault());
        
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(e) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        console.log('üöÄ ELMAR Training System - KOMPLETNA WERSJA initialized successfully!');
    </script>
</body>
</html>
